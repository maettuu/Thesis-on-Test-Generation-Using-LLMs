[2025-07-28 23:30:46] MARKER   : =============== Running Payload #19696 ===============
[2025-07-28 23:30:46] MARKER   : ================ Preparing Environment ===============
[2025-07-28 23:30:47] SUCCESS  : Linked GitHub issue #19695 fetched successfully
[2025-07-28 23:30:50] SUCCESS  : PDF file issue19695.pdf fetched successfully
[2025-07-28 23:30:50] INFO     : Cloning repository https://github.com/mozilla/pdf.js.git
[2025-07-28 23:30:59] SUCCESS  : Cloning successful
[2025-07-28 23:30:59] INFO     : Fetching test file for injection...
[2025-07-28 23:31:00] SUCCESS  : Test file test/unit/api_spec.js fetched successfully
[2025-07-28 23:31:01] WARNING  : No existing image 'image_mozilla__pdf.js-19696' found
[2025-07-28 23:31:01] INFO     : Building from scratch based on commit a229914b4662f14cd64b710797b3e6db6fadba82
[2025-07-28 23:35:19] SUCCESS  : Docker image 'image_mozilla__pdf.js-19696' built successfully
[2025-07-28 23:35:20] MARKER   : ================ Preparation Complete ================
[2025-07-28 23:35:20] MARKER   : Attempt 1 with model gpt-4o
[2025-07-28 23:35:20] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:35:20] INFO     : Querying LLM...
[2025-07-28 23:35:28] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:35:28] SUCCESS  : LLM response received
[2025-07-28 23:35:28] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:35:28] INFO     : Creating container...
[2025-07-28 23:35:29] SUCCESS  : Container 57abeb7862b0 started
[2025-07-28 23:35:29] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:35:29] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:35:29] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:35:29] INFO     : Running test command...
[2025-07-28 23:36:02] SUCCESS  : Test command executed
[2025-07-28 23:36:02] FAIL     : Test evaluated as failed
[2025-07-28 23:36:02] WARNING  : Stopping and removing container...
[2025-07-28 23:36:13] SUCCESS  : Container stopped and removed
[2025-07-28 23:36:13] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:36:13] INFO     : Creating container...
[2025-07-28 23:36:15] SUCCESS  : Container 27382171cfcb started
[2025-07-28 23:36:15] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:36:15] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:36:15] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:36:15] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:36:15] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:36:15] INFO     : Running test command...
[2025-07-28 23:36:46] SUCCESS  : Test command executed
[2025-07-28 23:36:46] INFO     : Test evaluated as passed
[2025-07-28 23:36:46] WARNING  : Stopping and removing container...
[2025-07-28 23:36:57] SUCCESS  : Container stopped and removed
[2025-07-28 23:36:57] SUCCESS  : Fail-to-Pass test generated
[2025-07-28 23:36:57] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should display the symbol correctly", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams("issue19695.pdf"));
  const pdfDocument = await loadingTask.promise;
  const page = await pdfDocument.getPage(1);
  const textContent = await page.getTextContent();
  const textItems = textContent.items.map(item => item.str);
  const expectedSymbol = "Â£";
  const actualSymbol = textItems.find(item => item.includes(expectedSymbol));
  expect(actualSymbol).toBeDefined();
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-28 23:36:57] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:36:57] SUCCESS  : Attempt 1 with model gpt-4o finished successfully
[2025-07-28 23:36:57] SUCCESS  : Test file copied to generated_tests/pdf_js_19696_i1_gpt-4o.txt
[2025-07-28 23:36:57] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:36:57] MARKER   : Attempt 1 with model llama-3.3-70b-versatile
[2025-07-28 23:36:57] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:36:57] INFO     : Querying LLM...
[2025-07-28 23:36:59] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:36:59] SUCCESS  : LLM response received
[2025-07-28 23:36:59] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:36:59] INFO     : Creating container...
[2025-07-28 23:37:00] SUCCESS  : Container 963630425cd3 started
[2025-07-28 23:37:00] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:37:00] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:37:00] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:37:00] INFO     : Running test command...
[2025-07-28 23:37:32] SUCCESS  : Test command executed
[2025-07-28 23:37:32] FAIL     : Test evaluated as failed
[2025-07-28 23:37:32] WARNING  : Stopping and removing container...
[2025-07-28 23:37:44] SUCCESS  : Container stopped and removed
[2025-07-28 23:37:44] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:37:44] INFO     : Creating container...
[2025-07-28 23:37:45] SUCCESS  : Container 1838cd2d56aa started
[2025-07-28 23:37:45] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:37:45] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:37:45] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:37:45] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:37:46] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:37:46] INFO     : Running test command...
[2025-07-28 23:38:18] SUCCESS  : Test command executed
[2025-07-28 23:38:18] INFO     : Test evaluated as passed
[2025-07-28 23:38:18] WARNING  : Stopping and removing container...
[2025-07-28 23:38:30] SUCCESS  : Container stopped and removed
[2025-07-28 23:38:30] SUCCESS  : Fail-to-Pass test generated
[2025-07-28 23:38:30] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should display the pound symbol correctly", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const loadingTask = getDocument(buildGetDocumentParams('issue19695.pdf'));
  const pdfDocument = await loadingTask.promise;
  const pdfPage = await pdfDocument.getPage(1);
  const textContent = await pdfPage.getTextContent();
  const actualText = textContent.items[0].str;
  const expectedText = 'Â£';
  expect(actualText).toContain(expectedText);
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-28 23:38:30] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:38:30] SUCCESS  : Attempt 1 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 23:38:30] SUCCESS  : Test file copied to generated_tests/pdf_js_19696_i1_llama-3.3-70b-versatile.txt
[2025-07-28 23:38:30] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:38:30] MARKER   : Attempt 1 with model deepseek-r1-distill-llama-70b
[2025-07-28 23:38:30] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:38:30] INFO     : Querying LLM...
[2025-07-28 23:38:34] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:38:34] SUCCESS  : LLM response received
[2025-07-28 23:38:34] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:38:34] INFO     : Creating container...
[2025-07-28 23:38:36] SUCCESS  : Container 4747e77076de started
[2025-07-28 23:38:36] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:38:36] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:38:36] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:38:36] INFO     : Running test command...
[2025-07-28 23:39:09] SUCCESS  : Test command executed
[2025-07-28 23:39:09] FAIL     : Test evaluated as failed
[2025-07-28 23:39:09] WARNING  : Stopping and removing container...
[2025-07-28 23:39:20] SUCCESS  : Container stopped and removed
[2025-07-28 23:39:20] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:39:20] INFO     : Creating container...
[2025-07-28 23:39:21] SUCCESS  : Container 6bf4c0702610 started
[2025-07-28 23:39:22] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:39:22] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:39:22] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:39:22] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:39:22] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:39:22] INFO     : Running test command...
[2025-07-28 23:39:54] SUCCESS  : Test command executed
[2025-07-28 23:39:54] FAIL     : Test evaluated as failed
[2025-07-28 23:39:54] WARNING  : Stopping and removing container...
[2025-07-28 23:40:06] SUCCESS  : Container stopped and removed
[2025-07-28 23:40:06] FAIL     : No Fail-to-Pass test generated
[2025-07-28 23:40:06] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:40:06] SUCCESS  : Attempt 1 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 23:40:06] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:40:06] MARKER   : Attempt 2 with model deepseek-r1-distill-llama-70b
[2025-07-28 23:40:06] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:40:06] INFO     : Querying LLM...
[2025-07-28 23:40:09] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:40:09] SUCCESS  : LLM response received
[2025-07-28 23:40:09] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:40:09] INFO     : Creating container...
[2025-07-28 23:40:11] SUCCESS  : Container c130343f8f20 started
[2025-07-28 23:40:12] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:40:12] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:40:12] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:40:12] INFO     : Running test command...
[2025-07-28 23:40:43] SUCCESS  : Test command executed
[2025-07-28 23:40:43] FAIL     : Test evaluated as failed
[2025-07-28 23:40:43] WARNING  : Stopping and removing container...
[2025-07-28 23:40:55] SUCCESS  : Container stopped and removed
[2025-07-28 23:40:55] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:40:55] INFO     : Creating container...
[2025-07-28 23:40:56] SUCCESS  : Container aca244fa2923 started
[2025-07-28 23:40:56] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:40:56] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:40:56] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:40:56] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:40:56] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:40:56] INFO     : Running test command...
[2025-07-28 23:41:28] SUCCESS  : Test command executed
[2025-07-28 23:41:28] FAIL     : Test evaluated as failed
[2025-07-28 23:41:28] WARNING  : Stopping and removing container...
[2025-07-28 23:41:39] SUCCESS  : Container stopped and removed
[2025-07-28 23:41:39] FAIL     : No Fail-to-Pass test generated
[2025-07-28 23:41:39] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:41:39] SUCCESS  : Attempt 2 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 23:41:39] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:41:39] MARKER   : Attempt 3 with model deepseek-r1-distill-llama-70b
[2025-07-28 23:41:39] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:41:39] INFO     : Querying LLM...
[2025-07-28 23:41:43] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:41:43] SUCCESS  : LLM response received
[2025-07-28 23:41:43] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:41:43] INFO     : Creating container...
[2025-07-28 23:41:44] SUCCESS  : Container 29da03578f9d started
[2025-07-28 23:41:45] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:41:45] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:41:45] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:41:45] INFO     : Running test command...
[2025-07-28 23:42:16] SUCCESS  : Test command executed
[2025-07-28 23:42:16] FAIL     : Test evaluated as failed
[2025-07-28 23:42:16] WARNING  : Stopping and removing container...
[2025-07-28 23:42:27] SUCCESS  : Container stopped and removed
[2025-07-28 23:42:27] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:42:27] INFO     : Creating container...
[2025-07-28 23:42:33] SUCCESS  : Container 4a0d517c99c3 started
[2025-07-28 23:42:34] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:42:34] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:42:34] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:42:34] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:42:34] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:42:34] INFO     : Running test command...
[2025-07-28 23:43:06] SUCCESS  : Test command executed
[2025-07-28 23:43:06] FAIL     : Test evaluated as failed
[2025-07-28 23:43:06] WARNING  : Stopping and removing container...
[2025-07-28 23:43:16] SUCCESS  : Container stopped and removed
[2025-07-28 23:43:16] FAIL     : No Fail-to-Pass test generated
[2025-07-28 23:43:16] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:43:16] SUCCESS  : Attempt 3 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 23:43:16] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:43:16] MARKER   : Attempt 4 with model deepseek-r1-distill-llama-70b
[2025-07-28 23:43:16] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:43:16] INFO     : Querying LLM...
[2025-07-28 23:43:20] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:43:20] SUCCESS  : LLM response received
[2025-07-28 23:43:20] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:43:20] INFO     : Creating container...
[2025-07-28 23:43:23] SUCCESS  : Container 245204f7a914 started
[2025-07-28 23:43:23] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:43:23] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:43:23] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:43:23] INFO     : Running test command...
[2025-07-28 23:43:54] SUCCESS  : Test command executed
[2025-07-28 23:43:54] FAIL     : Test evaluated as failed
[2025-07-28 23:43:54] WARNING  : Stopping and removing container...
[2025-07-28 23:44:05] SUCCESS  : Container stopped and removed
[2025-07-28 23:44:05] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:44:05] INFO     : Creating container...
[2025-07-28 23:44:09] SUCCESS  : Container afb0d22c1ee1 started
[2025-07-28 23:44:09] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:44:09] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:44:09] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:44:09] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:44:09] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:44:09] INFO     : Running test command...
[2025-07-28 23:44:41] SUCCESS  : Test command executed
[2025-07-28 23:44:41] FAIL     : Test evaluated as failed
[2025-07-28 23:44:41] WARNING  : Stopping and removing container...
[2025-07-28 23:44:53] SUCCESS  : Container stopped and removed
[2025-07-28 23:44:53] FAIL     : No Fail-to-Pass test generated
[2025-07-28 23:44:53] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:44:53] SUCCESS  : Attempt 4 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 23:44:53] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 23:44:53] MARKER   : Attempt 5 with model deepseek-r1-distill-llama-70b
[2025-07-28 23:44:53] MARKER   : =============== Test Generation Started ==============
[2025-07-28 23:44:53] INFO     : Querying LLM...
[2025-07-28 23:44:56] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 23:44:56] SUCCESS  : LLM response received
[2025-07-28 23:44:56] MARKER   : Running test in pre-PR codebase...
[2025-07-28 23:44:56] INFO     : Creating container...
[2025-07-28 23:45:02] SUCCESS  : Container 76fde7b26200 started
[2025-07-28 23:45:03] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:45:03] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:45:03] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:45:03] INFO     : Running test command...
[2025-07-28 23:45:35] SUCCESS  : Test command executed
[2025-07-28 23:45:35] FAIL     : Test evaluated as failed
[2025-07-28 23:45:35] WARNING  : Stopping and removing container...
[2025-07-28 23:45:46] SUCCESS  : Container stopped and removed
[2025-07-28 23:45:46] MARKER   : Running test in post-PR codebase...
[2025-07-28 23:45:46] INFO     : Creating container...
[2025-07-28 23:45:57] SUCCESS  : Container f140aaaf7749 started
[2025-07-28 23:45:57] SUCCESS  : File test/pdfs/issue19695.pdf added to container successfully
[2025-07-28 23:45:57] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 23:45:57] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 23:45:57] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 23:45:57] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 23:45:57] INFO     : Running test command...
[2025-07-28 23:46:28] SUCCESS  : Test command executed
[2025-07-28 23:46:28] FAIL     : Test evaluated as failed
[2025-07-28 23:46:28] WARNING  : Stopping and removing container...
[2025-07-28 23:46:43] SUCCESS  : Container stopped and removed
[2025-07-28 23:46:43] FAIL     : No Fail-to-Pass test generated
[2025-07-28 23:46:43] MARKER   : =============== Test Generation Finished =============
[2025-07-28 23:46:43] SUCCESS  : Attempt 5 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 23:46:43] MARKER   : =============== Finished Payload #19696 ==============
[2025-07-28 23:46:43] SUCCESS  : Directory tmp_repo_dir_mozilla__pdf.js-19696 removed successfully
[2025-07-28 23:46:45] SUCCESS  : Removed Docker image 'image_mozilla__pdf.js-19696'
