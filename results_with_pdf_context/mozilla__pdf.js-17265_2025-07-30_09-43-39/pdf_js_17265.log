[2025-07-30 09:43:39] MARKER   : =============== Running Payload #17265 ===============
[2025-07-30 09:43:39] MARKER   : ================ Preparing Environment ===============
[2025-07-30 09:43:40] SUCCESS  : Linked GitHub issue #17259 fetched successfully
[2025-07-30 09:43:41] WARNING  : No PDF file available
[2025-07-30 09:43:41] INFO     : Cloning repository https://github.com/mozilla/pdf.js.git
[2025-07-30 09:43:51] SUCCESS  : Cloning successful
[2025-07-30 09:43:51] INFO     : Fetching test file for injection...
[2025-07-30 09:43:52] SUCCESS  : Test file test/unit/api_spec.js fetched successfully
[2025-07-30 09:43:54] WARNING  : No existing image 'image_mozilla__pdf.js-17265' found
[2025-07-30 09:43:54] INFO     : Building from scratch based on commit 26fcd261fbe4e7992b26dd8066b50498ab4f90b7
[2025-07-30 09:50:56] SUCCESS  : Docker image 'image_mozilla__pdf.js-17265' built successfully
[2025-07-30 09:50:56] MARKER   : ================ Preparation Complete ================
[2025-07-30 09:50:56] MARKER   : Attempt 1 with model gpt-4o
[2025-07-30 09:50:56] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:50:56] INFO     : Querying LLM...
[2025-07-30 09:50:59] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:50:59] SUCCESS  : LLM response received
[2025-07-30 09:50:59] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:50:59] INFO     : Creating container...
[2025-07-30 09:51:05] SUCCESS  : Container cf650b1c467f started
[2025-07-30 09:51:05] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:51:05] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:51:05] INFO     : Running test command...
[2025-07-30 09:51:38] SUCCESS  : Test command executed
[2025-07-30 09:51:38] FAIL     : Test evaluated as failed
[2025-07-30 09:51:38] WARNING  : Stopping and removing container...
[2025-07-30 09:51:50] SUCCESS  : Container stopped and removed
[2025-07-30 09:51:50] MARKER   : Running test in post-PR codebase...
[2025-07-30 09:51:50] INFO     : Creating container...
[2025-07-30 09:51:51] SUCCESS  : Container e4bfd6314980 started
[2025-07-30 09:51:51] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:51:52] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:51:52] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 09:51:52] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 09:51:52] INFO     : Running test command...
[2025-07-30 09:52:23] SUCCESS  : Test command executed
[2025-07-30 09:52:23] FAIL     : Test evaluated as failed
[2025-07-30 09:52:23] WARNING  : Stopping and removing container...
[2025-07-30 09:52:35] SUCCESS  : Container stopped and removed
[2025-07-30 09:52:35] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:52:35] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:52:35] SUCCESS  : Attempt 1 with model gpt-4o finished successfully
[2025-07-30 09:52:35] INFO     : Environment ready – preparation skipped
[2025-07-30 09:52:35] MARKER   : Attempt 2 with model gpt-4o
[2025-07-30 09:52:35] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:52:35] INFO     : Querying LLM...
[2025-07-30 09:52:38] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:52:38] SUCCESS  : LLM response received
[2025-07-30 09:52:38] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:52:38] INFO     : Creating container...
[2025-07-30 09:52:40] SUCCESS  : Container f427c05ddab0 started
[2025-07-30 09:52:40] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:52:40] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:52:40] INFO     : Running test command...
[2025-07-30 09:53:13] SUCCESS  : Test command executed
[2025-07-30 09:53:13] FAIL     : Test evaluated as failed
[2025-07-30 09:53:13] WARNING  : Stopping and removing container...
[2025-07-30 09:53:23] SUCCESS  : Container stopped and removed
[2025-07-30 09:53:23] MARKER   : Running test in post-PR codebase...
[2025-07-30 09:53:23] INFO     : Creating container...
[2025-07-30 09:53:25] SUCCESS  : Container 3dbd94545380 started
[2025-07-30 09:53:25] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:53:25] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:53:25] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 09:53:25] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 09:53:25] INFO     : Running test command...
[2025-07-30 09:53:58] SUCCESS  : Test command executed
[2025-07-30 09:53:58] FAIL     : Test evaluated as failed
[2025-07-30 09:53:58] WARNING  : Stopping and removing container...
[2025-07-30 09:54:10] SUCCESS  : Container stopped and removed
[2025-07-30 09:54:10] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:54:10] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:54:10] SUCCESS  : Attempt 2 with model gpt-4o finished successfully
[2025-07-30 09:54:10] INFO     : Environment ready – preparation skipped
[2025-07-30 09:54:10] MARKER   : Attempt 3 with model gpt-4o
[2025-07-30 09:54:10] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:54:10] INFO     : Querying LLM...
[2025-07-30 09:54:14] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:54:14] SUCCESS  : LLM response received
[2025-07-30 09:54:14] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:54:14] INFO     : Creating container...
[2025-07-30 09:54:15] SUCCESS  : Container 6889c482bf7a started
[2025-07-30 09:54:15] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:54:15] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:54:15] INFO     : Running test command...
[2025-07-30 09:54:47] SUCCESS  : Test command executed
[2025-07-30 09:54:47] INFO     : Test evaluated as passed
[2025-07-30 09:54:47] WARNING  : Stopping and removing container...
[2025-07-30 09:54:58] SUCCESS  : Container stopped and removed
[2025-07-30 09:54:58] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:54:58] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:54:58] SUCCESS  : Attempt 3 with model gpt-4o finished successfully
[2025-07-30 09:54:58] INFO     : Environment ready – preparation skipped
[2025-07-30 09:54:58] MARKER   : Attempt 4 with model gpt-4o
[2025-07-30 09:54:58] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:54:58] INFO     : Querying LLM...
[2025-07-30 09:55:00] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:55:00] SUCCESS  : LLM response received
[2025-07-30 09:55:00] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:55:00] INFO     : Creating container...
[2025-07-30 09:55:02] SUCCESS  : Container d38a1c965501 started
[2025-07-30 09:55:02] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:55:02] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:55:02] INFO     : Running test command...
[2025-07-30 09:55:34] SUCCESS  : Test command executed
[2025-07-30 09:55:34] FAIL     : Test evaluated as failed
[2025-07-30 09:55:34] WARNING  : Stopping and removing container...
[2025-07-30 09:55:45] SUCCESS  : Container stopped and removed
[2025-07-30 09:55:45] MARKER   : Running test in post-PR codebase...
[2025-07-30 09:55:45] INFO     : Creating container...
[2025-07-30 09:55:46] SUCCESS  : Container 2235cafb91cb started
[2025-07-30 09:55:46] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:55:46] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:55:46] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 09:55:46] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 09:55:46] INFO     : Running test command...
[2025-07-30 09:56:18] SUCCESS  : Test command executed
[2025-07-30 09:56:18] FAIL     : Test evaluated as failed
[2025-07-30 09:56:18] WARNING  : Stopping and removing container...
[2025-07-30 09:56:29] SUCCESS  : Container stopped and removed
[2025-07-30 09:56:29] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:56:29] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:56:29] SUCCESS  : Attempt 4 with model gpt-4o finished successfully
[2025-07-30 09:56:29] INFO     : Environment ready – preparation skipped
[2025-07-30 09:56:29] MARKER   : Attempt 5 with model gpt-4o
[2025-07-30 09:56:29] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:56:29] INFO     : Querying LLM...
[2025-07-30 09:56:32] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:56:32] SUCCESS  : LLM response received
[2025-07-30 09:56:32] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:56:32] INFO     : Creating container...
[2025-07-30 09:56:33] SUCCESS  : Container 3adf601059da started
[2025-07-30 09:56:33] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:56:33] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:56:33] INFO     : Running test command...
[2025-07-30 09:57:04] SUCCESS  : Test command executed
[2025-07-30 09:57:04] FAIL     : Test evaluated as failed
[2025-07-30 09:57:04] WARNING  : Stopping and removing container...
[2025-07-30 09:57:15] SUCCESS  : Container stopped and removed
[2025-07-30 09:57:15] MARKER   : Running test in post-PR codebase...
[2025-07-30 09:57:15] INFO     : Creating container...
[2025-07-30 09:57:17] SUCCESS  : Container 9fbba03e7a75 started
[2025-07-30 09:57:17] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:57:17] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:57:17] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 09:57:17] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 09:57:17] INFO     : Running test command...
[2025-07-30 09:57:49] SUCCESS  : Test command executed
[2025-07-30 09:57:49] FAIL     : Test evaluated as failed
[2025-07-30 09:57:49] WARNING  : Stopping and removing container...
[2025-07-30 09:58:01] SUCCESS  : Container stopped and removed
[2025-07-30 09:58:01] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:58:01] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:58:01] SUCCESS  : Attempt 5 with model gpt-4o finished successfully
[2025-07-30 09:58:01] INFO     : Environment ready – preparation skipped
[2025-07-30 09:58:01] MARKER   : Attempt 1 with model llama-3.3-70b-versatile
[2025-07-30 09:58:01] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:58:01] INFO     : Querying LLM...
[2025-07-30 09:58:02] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:58:02] SUCCESS  : LLM response received
[2025-07-30 09:58:02] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:58:02] INFO     : Creating container...
[2025-07-30 09:58:03] SUCCESS  : Container aacf602154ac started
[2025-07-30 09:58:03] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:58:04] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:58:04] INFO     : Running test command...
[2025-07-30 09:58:36] SUCCESS  : Test command executed
[2025-07-30 09:58:36] FAIL     : Test evaluated as failed
[2025-07-30 09:58:36] WARNING  : Stopping and removing container...
[2025-07-30 09:58:47] SUCCESS  : Container stopped and removed
[2025-07-30 09:58:47] MARKER   : Running test in post-PR codebase...
[2025-07-30 09:58:47] INFO     : Creating container...
[2025-07-30 09:58:48] SUCCESS  : Container 991ea14373bb started
[2025-07-30 09:58:48] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:58:48] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:58:48] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 09:58:48] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 09:58:48] INFO     : Running test command...
[2025-07-30 09:59:22] SUCCESS  : Test command executed
[2025-07-30 09:59:22] FAIL     : Test evaluated as failed
[2025-07-30 09:59:22] WARNING  : Stopping and removing container...
[2025-07-30 09:59:33] SUCCESS  : Container stopped and removed
[2025-07-30 09:59:33] FAIL     : No Fail-to-Pass test generated
[2025-07-30 09:59:33] MARKER   : =============== Test Generation Finished =============
[2025-07-30 09:59:33] SUCCESS  : Attempt 1 with model llama-3.3-70b-versatile finished successfully
[2025-07-30 09:59:33] INFO     : Environment ready – preparation skipped
[2025-07-30 09:59:33] MARKER   : Attempt 2 with model llama-3.3-70b-versatile
[2025-07-30 09:59:33] MARKER   : =============== Test Generation Started ==============
[2025-07-30 09:59:33] INFO     : Querying LLM...
[2025-07-30 09:59:34] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 09:59:34] SUCCESS  : LLM response received
[2025-07-30 09:59:34] MARKER   : Running test in pre-PR codebase...
[2025-07-30 09:59:34] INFO     : Creating container...
[2025-07-30 09:59:35] SUCCESS  : Container d7b10ba9cf8e started
[2025-07-30 09:59:35] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 09:59:35] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 09:59:35] INFO     : Running test command...
[2025-07-30 10:00:08] SUCCESS  : Test command executed
[2025-07-30 10:00:08] FAIL     : Test evaluated as failed
[2025-07-30 10:00:08] WARNING  : Stopping and removing container...
[2025-07-30 10:00:19] SUCCESS  : Container stopped and removed
[2025-07-30 10:00:19] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:00:19] INFO     : Creating container...
[2025-07-30 10:00:20] SUCCESS  : Container 3a72744748d8 started
[2025-07-30 10:00:21] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:00:21] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:00:21] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:00:21] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:00:21] INFO     : Running test command...
[2025-07-30 10:00:52] SUCCESS  : Test command executed
[2025-07-30 10:00:52] FAIL     : Test evaluated as failed
[2025-07-30 10:00:52] WARNING  : Stopping and removing container...
[2025-07-30 10:01:03] SUCCESS  : Container stopped and removed
[2025-07-30 10:01:03] FAIL     : No Fail-to-Pass test generated
[2025-07-30 10:01:03] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:01:03] SUCCESS  : Attempt 2 with model llama-3.3-70b-versatile finished successfully
[2025-07-30 10:01:03] INFO     : Environment ready – preparation skipped
[2025-07-30 10:01:03] MARKER   : Attempt 3 with model llama-3.3-70b-versatile
[2025-07-30 10:01:03] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:01:03] INFO     : Querying LLM...
[2025-07-30 10:01:06] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:01:06] SUCCESS  : LLM response received
[2025-07-30 10:01:06] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:01:06] INFO     : Creating container...
[2025-07-30 10:01:07] SUCCESS  : Container ad6311057942 started
[2025-07-30 10:01:08] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:01:08] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:01:08] INFO     : Running test command...
[2025-07-30 10:01:39] SUCCESS  : Test command executed
[2025-07-30 10:01:39] INFO     : Test evaluated as passed
[2025-07-30 10:01:39] WARNING  : Stopping and removing container...
[2025-07-30 10:01:51] SUCCESS  : Container stopped and removed
[2025-07-30 10:01:51] FAIL     : No Fail-to-Pass test generated
[2025-07-30 10:01:51] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:01:51] SUCCESS  : Attempt 3 with model llama-3.3-70b-versatile finished successfully
[2025-07-30 10:01:51] INFO     : Environment ready – preparation skipped
[2025-07-30 10:01:51] MARKER   : Attempt 4 with model llama-3.3-70b-versatile
[2025-07-30 10:01:51] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:01:51] INFO     : Querying LLM...
[2025-07-30 10:01:54] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:01:54] SUCCESS  : LLM response received
[2025-07-30 10:01:54] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:01:54] INFO     : Creating container...
[2025-07-30 10:01:56] SUCCESS  : Container 99c81eeccd17 started
[2025-07-30 10:01:56] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:01:56] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:01:56] INFO     : Running test command...
[2025-07-30 10:02:29] SUCCESS  : Test command executed
[2025-07-30 10:02:29] FAIL     : Test evaluated as failed
[2025-07-30 10:02:29] WARNING  : Stopping and removing container...
[2025-07-30 10:02:40] SUCCESS  : Container stopped and removed
[2025-07-30 10:02:40] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:02:40] INFO     : Creating container...
[2025-07-30 10:02:41] SUCCESS  : Container 433b609e5fbe started
[2025-07-30 10:02:41] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:02:41] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:02:41] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:02:42] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:02:42] INFO     : Running test command...
[2025-07-30 10:03:15] SUCCESS  : Test command executed
[2025-07-30 10:03:15] INFO     : Test evaluated as passed
[2025-07-30 10:03:15] WARNING  : Stopping and removing container...
[2025-07-30 10:03:26] SUCCESS  : Container stopped and removed
[2025-07-30 10:03:26] SUCCESS  : Fail-to-Pass test generated
[2025-07-30 10:03:26] SUCCESS  : Suggested test for PR:


Hi! 🤖 The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should load module script with correct MIME type", async () => {
  const { PDFWorker } = await import("../../src/display/api.js");
  const worker = new PDFWorker();
  await worker.promise;
  const blobUrl = await import("../../src/display/api.js").then(({ PDFWorkerUtil }) => PDFWorkerUtil.createCDNWrapper("https://mozilla.github.io/pdf.js/build/pdf.worker.mjs"));
  const blob = await fetch(blobUrl).then(response => response.blob());
  expect(blob.type).toBe("text/javascript");
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-30 10:03:26] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:03:26] SUCCESS  : Attempt 4 with model llama-3.3-70b-versatile finished successfully
[2025-07-30 10:03:26] SUCCESS  : Test file copied to generated_tests/pdf_js_17265_i4_llama-3.3-70b-versatile.txt
[2025-07-30 10:03:26] INFO     : Environment ready – preparation skipped
[2025-07-30 10:03:26] MARKER   : Attempt 1 with model deepseek-r1-distill-llama-70b
[2025-07-30 10:03:26] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:03:26] INFO     : Querying LLM...
[2025-07-30 10:03:28] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:03:28] SUCCESS  : LLM response received
[2025-07-30 10:03:29] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:03:29] INFO     : Creating container...
[2025-07-30 10:03:30] SUCCESS  : Container 2e916c09cc22 started
[2025-07-30 10:03:30] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:03:31] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:03:31] INFO     : Running test command...
[2025-07-30 10:04:03] SUCCESS  : Test command executed
[2025-07-30 10:04:03] FAIL     : Test evaluated as failed
[2025-07-30 10:04:03] WARNING  : Stopping and removing container...
[2025-07-30 10:04:15] SUCCESS  : Container stopped and removed
[2025-07-30 10:04:15] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:04:15] INFO     : Creating container...
[2025-07-30 10:04:16] SUCCESS  : Container 8c6a3e442414 started
[2025-07-30 10:04:16] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:04:17] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:04:17] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:04:17] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:04:17] INFO     : Running test command...
[2025-07-30 10:04:50] SUCCESS  : Test command executed
[2025-07-30 10:04:50] FAIL     : Test evaluated as failed
[2025-07-30 10:04:50] WARNING  : Stopping and removing container...
[2025-07-30 10:05:01] SUCCESS  : Container stopped and removed
[2025-07-30 10:05:01] FAIL     : No Fail-to-Pass test generated
[2025-07-30 10:05:01] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:05:01] SUCCESS  : Attempt 1 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-30 10:05:01] INFO     : Environment ready – preparation skipped
[2025-07-30 10:05:01] MARKER   : Attempt 2 with model deepseek-r1-distill-llama-70b
[2025-07-30 10:05:01] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:05:01] INFO     : Querying LLM...
[2025-07-30 10:05:03] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:05:03] SUCCESS  : LLM response received
[2025-07-30 10:05:03] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:05:03] INFO     : Creating container...
[2025-07-30 10:05:05] SUCCESS  : Container 3b00cf6771ab started
[2025-07-30 10:05:05] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:05:05] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:05:05] INFO     : Running test command...
[2025-07-30 10:05:37] SUCCESS  : Test command executed
[2025-07-30 10:05:37] FAIL     : Test evaluated as failed
[2025-07-30 10:05:37] WARNING  : Stopping and removing container...
[2025-07-30 10:05:48] SUCCESS  : Container stopped and removed
[2025-07-30 10:05:48] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:05:48] INFO     : Creating container...
[2025-07-30 10:05:49] SUCCESS  : Container aebd4cd58476 started
[2025-07-30 10:05:50] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:05:50] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:05:50] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:05:50] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:05:50] INFO     : Running test command...
[2025-07-30 10:06:22] SUCCESS  : Test command executed
[2025-07-30 10:06:22] FAIL     : Test evaluated as failed
[2025-07-30 10:06:22] WARNING  : Stopping and removing container...
[2025-07-30 10:06:35] SUCCESS  : Container stopped and removed
[2025-07-30 10:06:35] FAIL     : No Fail-to-Pass test generated
[2025-07-30 10:06:35] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:06:35] SUCCESS  : Attempt 2 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-30 10:06:35] INFO     : Environment ready – preparation skipped
[2025-07-30 10:06:35] MARKER   : Attempt 3 with model deepseek-r1-distill-llama-70b
[2025-07-30 10:06:35] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:06:35] INFO     : Querying LLM...
[2025-07-30 10:06:40] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:06:40] SUCCESS  : LLM response received
[2025-07-30 10:06:40] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:06:40] INFO     : Creating container...
[2025-07-30 10:06:42] SUCCESS  : Container 019f823839b4 started
[2025-07-30 10:06:42] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:06:42] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:06:42] INFO     : Running test command...
[2025-07-30 10:07:14] SUCCESS  : Test command executed
[2025-07-30 10:07:14] FAIL     : Test evaluated as failed
[2025-07-30 10:07:14] WARNING  : Stopping and removing container...
[2025-07-30 10:07:27] SUCCESS  : Container stopped and removed
[2025-07-30 10:07:27] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:07:27] INFO     : Creating container...
[2025-07-30 10:07:29] SUCCESS  : Container 48f7036afec6 started
[2025-07-30 10:07:29] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:07:29] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:07:29] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:07:29] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:07:29] INFO     : Running test command...
[2025-07-30 10:08:01] SUCCESS  : Test command executed
[2025-07-30 10:08:01] FAIL     : Test evaluated as failed
[2025-07-30 10:08:01] WARNING  : Stopping and removing container...
[2025-07-30 10:08:12] SUCCESS  : Container stopped and removed
[2025-07-30 10:08:12] FAIL     : No Fail-to-Pass test generated
[2025-07-30 10:08:12] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:08:12] SUCCESS  : Attempt 3 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-30 10:08:12] INFO     : Environment ready – preparation skipped
[2025-07-30 10:08:12] MARKER   : Attempt 4 with model deepseek-r1-distill-llama-70b
[2025-07-30 10:08:12] MARKER   : =============== Test Generation Started ==============
[2025-07-30 10:08:12] INFO     : Querying LLM...
[2025-07-30 10:08:18] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-30 10:08:18] SUCCESS  : LLM response received
[2025-07-30 10:08:18] MARKER   : Running test in pre-PR codebase...
[2025-07-30 10:08:18] INFO     : Creating container...
[2025-07-30 10:08:20] SUCCESS  : Container 0e0b6278819a started
[2025-07-30 10:08:20] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:08:20] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:08:20] INFO     : Running test command...
[2025-07-30 10:08:52] SUCCESS  : Test command executed
[2025-07-30 10:08:52] FAIL     : Test evaluated as failed
[2025-07-30 10:08:52] WARNING  : Stopping and removing container...
[2025-07-30 10:09:03] SUCCESS  : Container stopped and removed
[2025-07-30 10:09:03] MARKER   : Running test in post-PR codebase...
[2025-07-30 10:09:03] INFO     : Creating container...
[2025-07-30 10:09:04] SUCCESS  : Container 399fb0d59e7d started
[2025-07-30 10:09:04] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-30 10:09:05] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-30 10:09:05] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-30 10:09:05] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-30 10:09:05] INFO     : Running test command...
[2025-07-30 10:09:37] SUCCESS  : Test command executed
[2025-07-30 10:09:37] INFO     : Test evaluated as passed
[2025-07-30 10:09:37] WARNING  : Stopping and removing container...
[2025-07-30 10:09:48] SUCCESS  : Container stopped and removed
[2025-07-30 10:09:48] SUCCESS  : Fail-to-Pass test generated
[2025-07-30 10:09:48] SUCCESS  : Suggested test for PR:


Hi! 🤖 The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should set correct MIME type for worker scripts", async () => {
  const { PDFWorkerUtil } = await import("../../src/display/api.js");
  const workerUrl = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.189/pdf.worker.min.mjs";

  const blob = PDFWorkerUtil.createCDNWrapper(workerUrl);
  const result = await fetch(blob).then(response => response.blob());

  expect(result.type).toBe("text/javascript");
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-30 10:09:48] MARKER   : =============== Test Generation Finished =============
[2025-07-30 10:09:48] SUCCESS  : Attempt 4 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-30 10:09:48] SUCCESS  : Test file copied to generated_tests/pdf_js_17265_i4_deepseek-r1-distill-llama-70b.txt
[2025-07-30 10:09:48] MARKER   : =============== Finished Payload #17265 ==============
[2025-07-30 10:09:48] SUCCESS  : Directory tmp_repo_dir_mozilla__pdf.js-17265 removed successfully
[2025-07-30 10:09:51] SUCCESS  : Removed Docker image 'image_mozilla__pdf.js-17265'
