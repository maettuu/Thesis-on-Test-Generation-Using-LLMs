it("should load module script with correct MIME type", async () => {
  const { URL } = await import("../../src/shared/util.js");
  const { PDFWorkerUtil } = await import("../../src/display/api.js");
  const url = "https://mozilla.github.io/pdf.js/build/pdf.worker.mjs";
  const wrapper = `await import("${url}");`;
  const blob = new Blob([wrapper], { type: "text/javascript" });
  const objectUrl = URL.createObjectURL(blob);
  const script = document.createElement("script");
  script.type = "module";
  script.src = objectUrl;
  document.head.appendChild(script);
  await new Promise((resolve) => {
    script.onload = resolve;
    script.onerror = resolve;
  });
  const error = script.onerror !== null;
  expect(error).toBe(false);
});