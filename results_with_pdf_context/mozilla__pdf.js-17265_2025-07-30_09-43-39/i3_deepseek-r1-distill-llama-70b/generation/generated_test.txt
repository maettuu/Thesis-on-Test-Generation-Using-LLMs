it("should load worker scripts with correct MIME type", async () => {
  const { PDFWorker } = await import("../../src/display/api.js");
  const workerParams = {
    name: "test-worker",
  };

  // Create a fake worker that will fail without the MIME type patch
  let error;
  const worker = await PDFWorker.fromPort({ port: {} }).catch(e => {
    error = e;
    return null;
  });

  // Since the worker should have failed to initialize due to MIME type issue
  await expect(error).rejects.toThrow(
    "Failed to load module script: Expected a JavaScript module script"
  );
});