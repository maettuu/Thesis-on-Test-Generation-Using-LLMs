it("should correctly render Gill Sans MT fonts in PDFs", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams, createTemporaryNodeServer } = await import('./test_utils.js');
  const server = createTemporaryNodeServer();
  const loadingTask = getDocument(buildGetDocumentParams('issue18801.pdf'));

  try {
    const { doc } = await loadingTask;
    const page = await doc.getPage(1);
    const renderTask = page.render({
      viewport: page.getViewport({ scale: 1 }),
      renderInteractive: false,
    });
    await renderTask.promise;

    const actualText = await page.getTextContent();
    const expectedText = "Gill Sans MT";

    expect(actualText.items[0].str).toContain(expectedText);
  } finally {
    server.close();
  }
});