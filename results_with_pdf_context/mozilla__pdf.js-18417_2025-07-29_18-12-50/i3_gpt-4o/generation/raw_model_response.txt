```javascript
it("should correctly handle transparency filters with <base href> in Firefox", async () => {
  const { DOMFilterFactory } = await import("../../src/display/display_utils.js");
  const { assert } = await import("../../src/shared/util.js");

  const docId = "testDoc";
  const ownerDocument = {
    createElement: () => ({ style: {}, append: () => {}, setAttribute: () => {} }),
    createElementNS: () => ({ append: () => {}, setAttribute: () => {} }),
    body: { append: () => {} },
    URL: "http://example.com/viewer.html",
    baseURI: "http://example.com/",
  };

  const factory = new DOMFilterFactory({ docId, ownerDocument });
  const maps = [[0, 255], [0, 255], [0, 255]];
  const expectedUrl = "url(http://example.com/viewer.html#g_testDoc_transfer_map_0)";

  const actualUrl = factory.addFilter(maps);
  assert(actualUrl === expectedUrl, "The filter URL should include the base URL.");
});
```