```javascript
it("should display top and bottom images in pdf file", async () => {
  const { PartialEvaluator, OPS, OperatorList, Dict, Name, Stream, StringStream } = await import("../../src/core/evaluator.js");
  const { XRefMock, createIdFactory } = await import("./test_utils.js");

  const xref = new XRefMock();
  const idFactory = createIdFactory();
  const handler = {
    sendWithPromise: async () => {},
  };
  const evaluator = new PartialEvaluator({
    xref,
    handler,
    pageIndex: 0,
    idFactory,
    fontCache: {},
    builtInCMapCache: {},
    standardFontDataCache: {},
    globalImageCache: {},
    systemFontCache: {},
  });

  const resources = new Dict();
  const image = new Stream(new StringStream("image data"));
  image.dict = new Dict();
  image.dict.set("Subtype", new Name("Image"));
  image.dict.set("W", 100);
  image.dict.set("H", 100);
  image.dict.set("SMask", new Name("SMask"));

  const operatorList = new OperatorList();
  await evaluator.buildPaintImageXObject({
    resources,
    image,
    operatorList,
    cacheKey: "image",
    localImageCache: {},
    localColorSpaceCache: {},
  });

  const hasSaveAndRestore = operatorList.fnArray.includes(OPS.save) && operatorList.fnArray.includes(OPS.restore);
  expect(hasSaveAndRestore).toBe(true);
});
```