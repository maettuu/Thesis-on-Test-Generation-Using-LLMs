it("should render large JPX images correctly", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');

  const loadingTask = getDocument(buildGetDocumentParams('issue17289.pdf'));
  const pdf = await loadingTask.promise;

  try {
    const page = await pdf.getPage(1);
    const viewport = page.getViewport({ scale: 1 });
    const renderTask = page.render({
      viewport,
      enableWebGL: false,
      enableCanvas: true,
      useTransform: true,
    });

    await renderTask.promise;
    const renderedPages = renderTask.renderedPages;
    expect(renderedPages).toHaveLength(1);
    expect(renderedPages[0].error).toBeUndefined();
  } finally {
    await pdf.destroy();
  }
});