it("should render large images in PDFs correctly", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');

  const loadingTask = getDocument(buildGetDocumentParams('issue17289.pdf'));
  const { pdfDocument } = await loadingTask;
  const pdfViewer = new (await import('../../src/display/pdf_viewer.js')).PDFViewer({
    container: document.createElement('div'),
    renderInteractive: false,
  });

  await pdfViewer.setDocument(pdfDocument);
  const page = await pdfViewer.setCurrentPage(1);
  const canvas = document.createElement('canvas');
  await page.render({
    canvasContext: canvas.getContext('2d'),
    viewport: page.getViewport(1),
  });

  const expectedImageData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII='; // Replace with correct expected data
  const actualImageData = canvas.toDataURL();

  assert.strictEqual(actualImageData, expectedImageData);
});