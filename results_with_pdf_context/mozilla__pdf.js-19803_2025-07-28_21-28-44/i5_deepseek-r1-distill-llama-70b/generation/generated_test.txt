it("should handle circular Form XObjects without infinite looping", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams('issue19800.pdf'));

  const timeoutPromise = new Promise((_, reject) => {
    setTimeout(() => {
      reject(new Error("Rendering timed out, indicating an infinite loop"));
    }, 10000); // 10 second timeout
  });

  try {
    await Promise.race([loadingTask, timeoutPromise]);
  } catch (error) {
    if (error.message.includes("ignoring circular reference")) {
      throw new Error("Circular reference handling failed");
    }
  }
});