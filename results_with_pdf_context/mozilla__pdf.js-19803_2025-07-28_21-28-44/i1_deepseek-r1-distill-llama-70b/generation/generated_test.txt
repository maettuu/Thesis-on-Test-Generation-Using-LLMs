it("should handle circular Form XObjects without infinite looping", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams('issue19800.pdf'));

  const documentLoaded = new Promise((resolve, reject) => {
    loadingTask.promise.then(
      (pdfDocument) => {
        resolve(pdfDocument);
      },
      (error) => {
        reject(error);
      }
    );
  });

  // The PDF should load without causing an infinite loop
  const result = await documentLoaded;
  expect(result).toBeTruthy();
});