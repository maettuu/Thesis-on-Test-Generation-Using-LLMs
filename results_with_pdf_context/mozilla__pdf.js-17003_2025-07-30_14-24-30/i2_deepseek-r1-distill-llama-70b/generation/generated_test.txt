it("should not warn about unknown field names when printing annotations", async () => {
  const { PDFDocument } = await import("../../src/core/document.js");
  const { AnnotationFactory } = await import("../../src/core/annotation.js");

  const pdf = new PDFDocument();
  const page = pdf.addPage();

  let warningThrown = false;

  const originalWarn = console.warn;
  console.warn = (message) => {
    if (message.includes("Unknown field name")) {
      warningThrown = true;
    }
    originalWarn(message);
  };

  const annotation = new TextAnnotation({
    xref: pdf.xref,
    ref: pdf.ref,
    dict: {
      get: () => "Test Annotation"
    },
    annotationGlobals: {
      pdfManager: pdf.pdfManager,
      acroForm: pdf.acroForm
    },
    idFactory: pdf.idFactory,
    collectFields: true,
    pageRef: page.ref
  });

  await pdf.print();

  expect(warningThrown).toBe(false);
});