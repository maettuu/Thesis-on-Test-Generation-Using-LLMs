it("should not warn about unknown field names when printing with annotations", async () => {
  const { PDFDocument } = await import("../../src/core/document.js");
  const { Annotation } = await import("../../src/core/annotation.js");

  const pdf = new PDFDocument();
  const page = pdf.addPage();
  const annotation = new Annotation({
    type: "Text",
    rect: [0, 0, 100, 100],
    contents: "Test annotation",
  });
  page.annotations.push(annotation);

  const originalWarn = console.warn;
  console.warn = jest.fn();

  const annotationFactory = new (await import("../../src/core/annotation.js")).AnnotationFactory({
    pdf,
    idFactory: await import("../../src/core/util.js").Util.createIdFactory(),
    collectFields: true,
  });

  await annotationFactory.processAnnotations();

  expect(console.warn).not.toHaveBeenCalledWith("Warning: Unknown field name, falling back to empty field name.");

  console.warn = originalWarn;
});