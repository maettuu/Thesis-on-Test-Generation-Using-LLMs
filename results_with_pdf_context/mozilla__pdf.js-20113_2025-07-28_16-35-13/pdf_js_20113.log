[2025-07-28 16:35:13] MARKER   : =============== Running Payload #20113 ===============
[2025-07-28 16:35:13] MARKER   : ================ Preparing Environment ===============
[2025-07-28 16:35:13] WARNING  : No GitHub issue found
[2025-07-28 16:35:13] SUCCESS  : Linked Bugzilla issue #1978317 fetched successfully
[2025-07-28 16:35:17] SUCCESS  : PDF file bug1978317.pdf fetched successfully
[2025-07-28 16:35:17] INFO     : Cloning repository https://github.com/mozilla/pdf.js.git
[2025-07-28 16:35:27] SUCCESS  : Cloning successful
[2025-07-28 16:35:27] INFO     : Fetching test file for injection...
[2025-07-28 16:35:28] SUCCESS  : Test file test/unit/api_spec.js fetched successfully
[2025-07-28 16:35:29] WARNING  : No existing image 'image_mozilla__pdf.js-20113' found
[2025-07-28 16:35:29] INFO     : Building from scratch based on commit bfc20250b23a8ef55ef64468f51a7492ed83c09f
[2025-07-28 16:40:10] SUCCESS  : Docker image 'image_mozilla__pdf.js-20113' built successfully
[2025-07-28 16:40:10] MARKER   : ================ Preparation Complete ================
[2025-07-28 16:40:10] MARKER   : Attempt 1 with model gpt-4o
[2025-07-28 16:40:10] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:40:10] INFO     : Querying LLM...
[2025-07-28 16:40:12] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:40:12] SUCCESS  : LLM response received
[2025-07-28 16:40:12] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:40:12] INFO     : Creating container...
[2025-07-28 16:40:18] SUCCESS  : Container b820dd4ccab5 started
[2025-07-28 16:40:18] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:40:18] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:40:18] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:40:18] INFO     : Running test command...
[2025-07-28 16:41:12] SUCCESS  : Test command executed
[2025-07-28 16:41:12] FAIL     : Test evaluated as failed
[2025-07-28 16:41:12] WARNING  : Stopping and removing container...
[2025-07-28 16:41:23] SUCCESS  : Container stopped and removed
[2025-07-28 16:41:23] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:41:23] INFO     : Creating container...
[2025-07-28 16:41:26] SUCCESS  : Container 4be2a5d5d147 started
[2025-07-28 16:41:27] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:41:27] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:41:27] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:41:27] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:41:27] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:41:27] INFO     : Running test command...
[2025-07-28 16:42:18] SUCCESS  : Test command executed
[2025-07-28 16:42:18] INFO     : Test evaluated as passed
[2025-07-28 16:42:18] WARNING  : Stopping and removing container...
[2025-07-28 16:42:29] SUCCESS  : Container stopped and removed
[2025-07-28 16:42:29] SUCCESS  : Fail-to-Pass test generated
[2025-07-28 16:42:29] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should open the PDF without errors in Firefox", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams("bug1978317.pdf"));
  const pdfDocument = await loadingTask.promise;
  const numPages = pdfDocument.numPages;
  expect(numPages).toBeGreaterThan(0);
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-28 16:42:29] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:42:29] SUCCESS  : Attempt 1 with model gpt-4o finished successfully
[2025-07-28 16:42:29] SUCCESS  : Test file copied to generated_tests/pdf_js_20113_i1_gpt-4o.txt
[2025-07-28 16:42:29] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:42:29] MARKER   : Attempt 1 with model llama-3.3-70b-versatile
[2025-07-28 16:42:29] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:42:29] INFO     : Querying LLM...
[2025-07-28 16:42:30] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:42:30] SUCCESS  : LLM response received
[2025-07-28 16:42:30] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:42:30] INFO     : Creating container...
[2025-07-28 16:42:32] SUCCESS  : Container a605ac7eb33f started
[2025-07-28 16:42:32] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:42:32] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:42:32] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:42:32] INFO     : Running test command...
[2025-07-28 16:43:25] SUCCESS  : Test command executed
[2025-07-28 16:43:25] FAIL     : Test evaluated as failed
[2025-07-28 16:43:25] WARNING  : Stopping and removing container...
[2025-07-28 16:43:36] SUCCESS  : Container stopped and removed
[2025-07-28 16:43:36] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:43:36] INFO     : Creating container...
[2025-07-28 16:43:38] SUCCESS  : Container 1b2364ae9218 started
[2025-07-28 16:43:38] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:43:38] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:43:38] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:43:38] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:43:38] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:43:38] INFO     : Running test command...
[2025-07-28 16:44:30] SUCCESS  : Test command executed
[2025-07-28 16:44:30] FAIL     : Test evaluated as failed
[2025-07-28 16:44:30] WARNING  : Stopping and removing container...
[2025-07-28 16:44:41] SUCCESS  : Container stopped and removed
[2025-07-28 16:44:41] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:44:41] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:44:41] SUCCESS  : Attempt 1 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 16:44:41] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:44:41] MARKER   : Attempt 2 with model llama-3.3-70b-versatile
[2025-07-28 16:44:41] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:44:41] INFO     : Querying LLM...
[2025-07-28 16:44:42] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:44:42] SUCCESS  : LLM response received
[2025-07-28 16:44:43] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:44:43] INFO     : Creating container...
[2025-07-28 16:44:44] SUCCESS  : Container 3e7574520a44 started
[2025-07-28 16:44:44] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:44:44] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:44:44] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:44:44] INFO     : Running test command...
[2025-07-28 16:45:37] SUCCESS  : Test command executed
[2025-07-28 16:45:37] FAIL     : Test evaluated as failed
[2025-07-28 16:45:37] WARNING  : Stopping and removing container...
[2025-07-28 16:45:48] SUCCESS  : Container stopped and removed
[2025-07-28 16:45:48] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:45:48] INFO     : Creating container...
[2025-07-28 16:45:49] SUCCESS  : Container 10a971129fd5 started
[2025-07-28 16:45:50] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:45:50] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:45:50] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:45:50] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:45:50] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:45:50] INFO     : Running test command...
[2025-07-28 16:46:41] SUCCESS  : Test command executed
[2025-07-28 16:46:41] FAIL     : Test evaluated as failed
[2025-07-28 16:46:41] WARNING  : Stopping and removing container...
[2025-07-28 16:46:53] SUCCESS  : Container stopped and removed
[2025-07-28 16:46:53] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:46:53] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:46:53] SUCCESS  : Attempt 2 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 16:46:53] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:46:53] MARKER   : Attempt 3 with model llama-3.3-70b-versatile
[2025-07-28 16:46:53] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:46:53] INFO     : Querying LLM...
[2025-07-28 16:46:54] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:46:54] SUCCESS  : LLM response received
[2025-07-28 16:46:54] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:46:54] INFO     : Creating container...
[2025-07-28 16:46:55] SUCCESS  : Container cf3e965b2dfb started
[2025-07-28 16:46:56] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:46:56] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:46:56] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:46:56] INFO     : Running test command...
[2025-07-28 16:47:48] SUCCESS  : Test command executed
[2025-07-28 16:47:48] FAIL     : Test evaluated as failed
[2025-07-28 16:47:48] WARNING  : Stopping and removing container...
[2025-07-28 16:48:00] SUCCESS  : Container stopped and removed
[2025-07-28 16:48:00] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:48:00] INFO     : Creating container...
[2025-07-28 16:48:02] SUCCESS  : Container 103d5c5004e7 started
[2025-07-28 16:48:02] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:48:02] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:48:02] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:48:02] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:48:02] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:48:02] INFO     : Running test command...
[2025-07-28 16:48:52] SUCCESS  : Test command executed
[2025-07-28 16:48:52] FAIL     : Test evaluated as failed
[2025-07-28 16:48:52] WARNING  : Stopping and removing container...
[2025-07-28 16:49:04] SUCCESS  : Container stopped and removed
[2025-07-28 16:49:04] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:49:04] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:49:04] SUCCESS  : Attempt 3 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 16:49:04] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:49:04] MARKER   : Attempt 4 with model llama-3.3-70b-versatile
[2025-07-28 16:49:04] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:49:04] INFO     : Querying LLM...
[2025-07-28 16:49:05] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:49:05] SUCCESS  : LLM response received
[2025-07-28 16:49:05] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:49:05] INFO     : Creating container...
[2025-07-28 16:49:07] SUCCESS  : Container 988dee61951b started
[2025-07-28 16:49:07] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:49:07] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:49:07] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:49:07] INFO     : Running test command...
[2025-07-28 16:49:59] SUCCESS  : Test command executed
[2025-07-28 16:49:59] FAIL     : Test evaluated as failed
[2025-07-28 16:49:59] WARNING  : Stopping and removing container...
[2025-07-28 16:50:10] SUCCESS  : Container stopped and removed
[2025-07-28 16:50:10] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:50:10] INFO     : Creating container...
[2025-07-28 16:50:12] SUCCESS  : Container c3b1eea29bd0 started
[2025-07-28 16:50:13] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:50:13] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:50:13] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:50:13] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:50:13] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:50:13] INFO     : Running test command...
[2025-07-28 16:51:03] SUCCESS  : Test command executed
[2025-07-28 16:51:03] FAIL     : Test evaluated as failed
[2025-07-28 16:51:03] WARNING  : Stopping and removing container...
[2025-07-28 16:51:14] SUCCESS  : Container stopped and removed
[2025-07-28 16:51:14] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:51:14] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:51:14] SUCCESS  : Attempt 4 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 16:51:14] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:51:14] MARKER   : Attempt 5 with model llama-3.3-70b-versatile
[2025-07-28 16:51:14] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:51:14] INFO     : Querying LLM...
[2025-07-28 16:51:15] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:51:15] SUCCESS  : LLM response received
[2025-07-28 16:51:15] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:51:15] INFO     : Creating container...
[2025-07-28 16:51:17] SUCCESS  : Container 7b92e6d239a0 started
[2025-07-28 16:51:17] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:51:17] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:51:17] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:51:17] INFO     : Running test command...
[2025-07-28 16:52:10] SUCCESS  : Test command executed
[2025-07-28 16:52:10] FAIL     : Test evaluated as failed
[2025-07-28 16:52:10] WARNING  : Stopping and removing container...
[2025-07-28 16:52:22] SUCCESS  : Container stopped and removed
[2025-07-28 16:52:22] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:52:22] INFO     : Creating container...
[2025-07-28 16:52:24] SUCCESS  : Container b3ea44ffd079 started
[2025-07-28 16:52:24] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:52:24] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:52:25] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:52:25] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:52:25] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:52:25] INFO     : Running test command...
[2025-07-28 16:53:18] SUCCESS  : Test command executed
[2025-07-28 16:53:18] FAIL     : Test evaluated as failed
[2025-07-28 16:53:18] WARNING  : Stopping and removing container...
[2025-07-28 16:53:29] SUCCESS  : Container stopped and removed
[2025-07-28 16:53:29] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:53:29] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:53:29] SUCCESS  : Attempt 5 with model llama-3.3-70b-versatile finished successfully
[2025-07-28 16:53:29] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:53:29] MARKER   : Attempt 1 with model deepseek-r1-distill-llama-70b
[2025-07-28 16:53:29] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:53:29] INFO     : Querying LLM...
[2025-07-28 16:53:33] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:53:33] SUCCESS  : LLM response received
[2025-07-28 16:53:33] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:53:33] INFO     : Creating container...
[2025-07-28 16:53:34] SUCCESS  : Container a1369dfa4011 started
[2025-07-28 16:53:34] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:53:34] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:53:34] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:53:34] INFO     : Running test command...
[2025-07-28 16:54:23] SUCCESS  : Test command executed
[2025-07-28 16:54:23] FAIL     : Test evaluated as failed
[2025-07-28 16:54:23] WARNING  : Stopping and removing container...
[2025-07-28 16:54:34] SUCCESS  : Container stopped and removed
[2025-07-28 16:54:34] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:54:34] INFO     : Creating container...
[2025-07-28 16:54:36] SUCCESS  : Container 278f2303a9c4 started
[2025-07-28 16:54:36] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:54:36] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:54:36] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:54:36] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:54:36] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:54:36] INFO     : Running test command...
[2025-07-28 16:55:26] SUCCESS  : Test command executed
[2025-07-28 16:55:26] FAIL     : Test evaluated as failed
[2025-07-28 16:55:26] WARNING  : Stopping and removing container...
[2025-07-28 16:55:38] SUCCESS  : Container stopped and removed
[2025-07-28 16:55:38] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:55:38] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:55:38] SUCCESS  : Attempt 1 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 16:55:38] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:55:38] MARKER   : Attempt 2 with model deepseek-r1-distill-llama-70b
[2025-07-28 16:55:38] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:55:38] INFO     : Querying LLM...
[2025-07-28 16:55:40] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:55:40] SUCCESS  : LLM response received
[2025-07-28 16:55:40] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:55:40] INFO     : Creating container...
[2025-07-28 16:55:41] SUCCESS  : Container aa99e53cdff0 started
[2025-07-28 16:55:41] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:55:41] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:55:41] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:55:41] INFO     : Running test command...
[2025-07-28 16:56:32] SUCCESS  : Test command executed
[2025-07-28 16:56:32] FAIL     : Test evaluated as failed
[2025-07-28 16:56:32] WARNING  : Stopping and removing container...
[2025-07-28 16:56:43] SUCCESS  : Container stopped and removed
[2025-07-28 16:56:43] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:56:43] INFO     : Creating container...
[2025-07-28 16:56:45] SUCCESS  : Container 026ab6105efe started
[2025-07-28 16:56:45] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:56:45] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:56:45] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:56:45] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:56:45] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:56:45] INFO     : Running test command...
[2025-07-28 16:57:33] SUCCESS  : Test command executed
[2025-07-28 16:57:33] FAIL     : Test evaluated as failed
[2025-07-28 16:57:33] WARNING  : Stopping and removing container...
[2025-07-28 16:57:44] SUCCESS  : Container stopped and removed
[2025-07-28 16:57:44] FAIL     : No Fail-to-Pass test generated
[2025-07-28 16:57:44] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:57:44] SUCCESS  : Attempt 2 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 16:57:44] INFO     : Environment ready â€“ preparation skipped
[2025-07-28 16:57:44] MARKER   : Attempt 3 with model deepseek-r1-distill-llama-70b
[2025-07-28 16:57:44] MARKER   : =============== Test Generation Started ==============
[2025-07-28 16:57:44] INFO     : Querying LLM...
[2025-07-28 16:57:47] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-07-28 16:57:47] SUCCESS  : LLM response received
[2025-07-28 16:57:47] MARKER   : Running test in pre-PR codebase...
[2025-07-28 16:57:47] INFO     : Creating container...
[2025-07-28 16:57:49] SUCCESS  : Container d929c7ed6ccb started
[2025-07-28 16:57:50] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:57:50] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:57:50] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:57:50] INFO     : Running test command...
[2025-07-28 16:58:41] SUCCESS  : Test command executed
[2025-07-28 16:58:41] FAIL     : Test evaluated as failed
[2025-07-28 16:58:41] WARNING  : Stopping and removing container...
[2025-07-28 16:58:55] SUCCESS  : Container stopped and removed
[2025-07-28 16:58:55] MARKER   : Running test in post-PR codebase...
[2025-07-28 16:58:55] INFO     : Creating container...
[2025-07-28 16:58:56] SUCCESS  : Container 42101c9fdb36 started
[2025-07-28 16:58:56] SUCCESS  : File test/pdfs/bug1978317.pdf added to container successfully
[2025-07-28 16:58:56] SUCCESS  : File test_patch.diff added to container successfully
[2025-07-28 16:58:57] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-07-28 16:58:57] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-07-28 16:58:57] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-07-28 16:58:57] INFO     : Running test command...
[2025-07-28 16:59:48] SUCCESS  : Test command executed
[2025-07-28 16:59:48] INFO     : Test evaluated as passed
[2025-07-28 16:59:48] WARNING  : Stopping and removing container...
[2025-07-28 16:59:59] SUCCESS  : Container stopped and removed
[2025-07-28 16:59:59] SUCCESS  : Fail-to-Pass test generated
[2025-07-28 16:59:59] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should correctly handle xref table entries with mismatched generation numbers", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const pdfPath = buildGetDocumentParams('bug1978317.pdf');

  try {
    const loadingTask = getDocument(pdfPath);
    await loadingTask.promise;
  } catch (error) {
    throw new Error("Failed to load PDF: " + error.message);
  }
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/api_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-07-28 16:59:59] MARKER   : =============== Test Generation Finished =============
[2025-07-28 16:59:59] SUCCESS  : Attempt 3 with model deepseek-r1-distill-llama-70b finished successfully
[2025-07-28 16:59:59] SUCCESS  : Test file copied to generated_tests/pdf_js_20113_i3_deepseek-r1-distill-llama-70b.txt
[2025-07-28 16:59:59] MARKER   : =============== Finished Payload #20113 ==============
[2025-07-28 17:00:00] SUCCESS  : Directory tmp_repo_dir_mozilla__pdf.js-20113 removed successfully
[2025-07-28 17:00:02] SUCCESS  : Removed Docker image 'image_mozilla__pdf.js-20113'
