it("should not throw an error when switching modes after drawing", async () => {
  const { AnnotationEditorUIManager, AnnotationEditorType } = await import("../../src/display/editor/tools.js");
  const { TouchManager } = await import("../../src/display/touch_manager.js");
  const { PDFDocument, Page } = await import("../../src/core/document.js");
  const { PDFDataRangeTransport, PDFWorker } = await import("../../src/display/api.js");

  const pdfDocument = await PDFDocument.load(await (await import("../../src/display/fetch_stream.js")).PDFFetchStream.fetch("https://example.com/example.pdf"));
  const page = pdfDocument.getPage(1);
  const annotationEditorUIManager = new AnnotationEditorUIManager({}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {});
  const touchManager = new TouchManager({ container: {} });

  annotationEditorUIManager.updateMode(AnnotationEditorType.INK);
  annotationEditorUIManager.updateMode(AnnotationEditorType.NONE);

  expect(() => touchManager.#onTouchEnd({ touches: [] })).not.toThrowError();
});