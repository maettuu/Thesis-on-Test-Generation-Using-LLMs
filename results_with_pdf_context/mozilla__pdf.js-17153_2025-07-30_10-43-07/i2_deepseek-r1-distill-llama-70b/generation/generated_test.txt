it("should handle missing navigatorplatform in Nodejs", async () => {
  const { FeatureTest } = await import("../../src/shared/util.js");
  const { FontLoader } = await import("../../src/display/font_loader.js");

  // Mock navigator to be undefined (simulate Node.js environment)
  const originalNavigator = global.navigator;
  delete global.navigator;

  // Mock PDFJSDev to test the GENERIC environment
  const originalPDFJSDev = global.PDFJSDev;
  global.PDFJSDev = { test: () => true };

  try {
    const featureTest = new FeatureTest();
    const fontLoader = new FontLoader({});

    // Check if platform property is handled correctly
    const platform = await FeatureTest.platform;
    expect(platform.isMac).toBe(false);

    // Check if sync font loading is supported in Node.js
    const isSyncSupported = fontLoader.isSyncFontLoadingSupported;
    expect(isSyncSupported).toBe(true);
  } finally {
    global.navigator = originalNavigator;
    global.PDFJSDev = originalPDFJSDev;
  }
});