it("should delete the selected element when pressing the Delete key", async () => {
  const { AnnotationEditorUIManager, AnnotationEditorLayer } = await import("../../src/display/editor/tools.js");
  const { PDFDocument, Page } = await import("../../src/core/document.js");
  const { AnnotationStorage } = await import("../../src/display/annotation_storage.js");
  const { EventBus } = await import("../../web/event_utils.js");

  const eventBus = new EventBus();
  const annotationStorage = new AnnotationStorage();
  const pdfDocument = new PDFDocument({
    numPages: 1,
    fingerprint: "",
    get page(index) {
      return new Page({
        pdfDocument,
        index,
        rotate: 0,
        ref: "",
        viewport: null,
      });
    },
  });
  const pageColors = { foreground: null, background: null };
  const annotationEditorUIManager = new AnnotationEditorUIManager(null, eventBus, pdfDocument, pageColors);
  const annotationEditorLayer = new AnnotationEditorLayer(0, pdfDocument, annotationStorage, eventBus);
  annotationEditorUIManager.addLayer(annotationEditorLayer);
  const editor = annotationEditorLayer.createEditor();
  annotationEditorUIManager.addEditor(editor);
  annotationEditorUIManager.setSelected(editor);

  const deleteSpy = jest.spyOn(editor, "remove");
  annotationEditorUIManager.keydown({ key: "Delete" });
  expect(deleteSpy).toHaveBeenCalledTimes(1);
});