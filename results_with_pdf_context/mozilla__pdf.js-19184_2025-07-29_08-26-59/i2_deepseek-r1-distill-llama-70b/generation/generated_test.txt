it("should correctly render Extension B characters in form fields", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams('issue19182.pdf'));
  const pdfDoc = await loadingTask.promise;

  const page = await pdfDoc.getPage(1);
  const form = await page.getForm();
  const xfa = form.getXFA();
  const tf1 = await xfa.getField("tf1");
  const value = await tf1.getValue();

  const isExtensionB = (codePoint) => {
    return codePoint >= 0x10000 && codePoint <= 0x10FFFF;
  };

  const expected = "𝄞";
  const actual = value;

  // Check each character in the string
  for (const char of actual) {
    const codePoint = char.codePointAt(0);
    if (isExtensionB(codePoint)) {
      expect(codePoint).not.toBe(0xFFFD); // Not replacement character
    }
  }
});