```javascript
it("should save PDF annotations correctly", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const loadingTask = getDocument(buildGetDocumentParams('bug1844572.pdf'));
  const pdfDoc = await loadingTask.promise;
  const pdfPages = await pdfDoc.getPages();
  const firstPage = await pdfPages[0];
  const annotations = await firstPage.getAnnotations();
  const annotationStorage = new Map();
  annotationStorage.set(0, annotations);
  const updatedPdf = await pdfDoc.saveDocument({ annotationStorage });
  const expectedAnnotations = await firstPage.getAnnotations();
  const actualAnnotations = await getDocument(buildGetDocumentParams(updatedPdf)).promise.getPages().then(pages => pages[0].getAnnotations());
  expect(actualAnnotations.length).toBe(expectedAnnotations.length);
});
```