it("should render the PDF with font fallback on nodejslegacy build", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const loadingTask = getDocument(buildGetDocumentParams('issue19234.pdf'));
  const doc = await loadingTask.promise;
  const page = await doc.getPage(1);
  const viewport = page.getViewport({ scale: 1 });
  const canvas = await import('../../src/display/canvas_factory.js').then(({ DOMCanvasFactory }) => new DOMCanvasFactory().createCanvas(viewport.width, viewport.height));
  const renderTask = page.render({
    canvasContext: canvas.getContext('2d'),
    viewport,
  });
  await renderTask.promise;
  const actualData = canvas.toBuffer();
  const expectedData = await import('./test_utils.js').then(({ TEST_PDFS_PATH }) => import('fs').then(fs => fs.promises.readFile(`${TEST_PDFS_PATH}/expected_output.png`)));
  expect(actualData).toEqual(expectedData);
});