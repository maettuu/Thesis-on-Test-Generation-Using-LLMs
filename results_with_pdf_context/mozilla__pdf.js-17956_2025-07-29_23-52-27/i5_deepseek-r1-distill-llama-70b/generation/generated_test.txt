it("should throw JpxError with correct message when decoding invalid JPX data", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const invalidData = new Uint8Array([0x00, 0x00, 0x00, 0x00]); // Invalid JPX data

  await expect(JpxImage.decode(invalidData, false)).rejects.toThrow(
    "JpxError: JPX decode failed"
  );
});