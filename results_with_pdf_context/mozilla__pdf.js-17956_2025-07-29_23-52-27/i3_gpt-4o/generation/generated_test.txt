it("should not log OpenJPEG Unknown format to the console", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const { Stream } = await import("../../src/core/stream.js");

  const data = new Uint8Array([0xff, 0x4f, 0xff, 0x51]); // Invalid JPX data
  const stream = new Stream(data);

  const originalConsoleError = console.error;
  let consoleOutput = "";
  console.error = (msg) => {
    consoleOutput += msg;
  };

  try {
    JpxImage.decode(stream, false);
  } catch (e) {
    // Expected to throw JpxError
  }

  console.error = originalConsoleError;
  expect(consoleOutput).not.toContain("OpenJPEG: Unknown format");
});