it("should throw JpxError with OpenJPEG error message", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const { JpxError } = await import("../shared/util.js");
  const invalidJpxData = new Uint8Array(10); // Invalid JPX data

  const decodePromise = JpxImage.decode(invalidJpxData, false);
  await expect(decodePromise).rejects.toThrow(JpxError);
  const error = await decodePromise.catch(err => err);
  expect(error.message).toBe("Unknown format");
});