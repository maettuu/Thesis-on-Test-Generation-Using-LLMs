it("should throw a JpxError with the error message from OpenJPEG", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const invalidData = new Uint8Array([0, 1, 2, 3]); // Example of invalid JPX data
  let errorMessage = null;

  try {
    JpxImage.decode(invalidData, false);
  } catch (error) {
    errorMessage = error.message;
  }

  const expectedErrorMessage = "OpenJPEG: Unknown format";
  expect(errorMessage).toBe(expectedErrorMessage);
});