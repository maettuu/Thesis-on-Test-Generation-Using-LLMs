it("should not log OpenJPEG Unknown format when decoding JPX image", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const { console } = globalThis;
  const originalLog = console.log;
  const originalError = console.error;
  const logs = [];
  console.log = (...args) => logs.push(...args);
  console.error = (...args) => logs.push(...args);
  const imageData = new Uint8Array([0xff, 0x4f, 0xff, 0x51]);
  try {
    JpxImage.decode(imageData, false);
  } catch (error) {}
  console.log = originalLog;
  console.error = originalError;
  const hasUnknownFormatLog = logs.some((log) => log.includes("OpenJPEG: Unknown format"));
  expect(hasUnknownFormatLog).toBe(false);
});