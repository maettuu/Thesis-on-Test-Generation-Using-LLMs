it("should respect PDFjs verbosity levels for OpenJPEG warnings", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const { setVerbosityLevel, VerbosityLevel } = await import("../../src/shared/util.js");

  let warningMessage = null;
  const originalConsoleWarn = console.warn;
  console.warn = (msg) => {
    warningMessage = msg;
  };

  setVerbosityLevel(VerbosityLevel.ERRORS);

  try {
    JpxImage.decode(new Uint8Array([0, 1, 2, 3]), false);
  } catch (e) {
    // Ignore the error, we're testing warning behavior
  }

  console.warn = originalConsoleWarn;

  expect(warningMessage).toBeNull();
});