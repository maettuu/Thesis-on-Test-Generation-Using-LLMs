it("should use the pdfjs warn when using jpx decoder", async () => {
  const { JpxImage, setVerbosityLevel, getVerbosityLevel } = await import("../../src/core/jpx.js");
  const { warn } = await import("../../src/shared/util.js");
  const originalWarn = console.warn;
  const warnings = [];
  console.warn = (...args) => warnings.push(...args);

  setVerbosityLevel(0);
  JpxImage.decode("invalid_data");
  expect(warnings.length).toBe(0);

  setVerbosityLevel(1);
  JpxImage.decode("invalid_data");
  expect(warnings.length).toBe(1);

  console.warn = originalWarn;
});