it("should decode cmyk jpeg image using ImageDecoder", async () => {
  const { JpegStream } = await import("../../src/core/jpeg_stream.js");
  const { JpegImage } = await import("../../src/core/jpg.js");
  const data = new Uint8Array([0xFF, 0xD8, 0xFF, 0xE0, 0x00, 0x10, 0x4A, 0x46, 0x49, 0x46, 0x00, 0x01, 0x01, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00, 0x00]);
  JpegStream.setOptions({ isImageDecoderSupported: true });
  const useImageDecoder = { cmyk: true };
  const result = await JpegStream.decode(data, useImageDecoder);
  expect(result).not.toBeNull();
});