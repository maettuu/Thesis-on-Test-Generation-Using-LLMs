it("should correctly resize SVG images in PDF", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const svg = `<svg viewBox="0 0 100 100" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
    <rect width="100" height="100" style="fill:red;"/>
  </svg>`;
  const img = new Image();
  img.src = `data:image/svg+xml;base64,${btoa(svg)}`;

  const pdf = new PDFDocument();
  const page = pdf.addPage();
  const graphics = page.getGraphics();

  await new Promise((resolve) => {
    img.onload = () => {
      graphics.drawImage(img, 0, 0, 100, 100);
      resolve();
    };
  });

  const pdfBuffer = await pdf.save();

  const pdfjsLib = await import("../../src/display/api.js");
  const pdfDoc = await pdfjsLib.PDFDocument.load(pdfBuffer);

  expect(pdfDoc).toBeTruthy();
});