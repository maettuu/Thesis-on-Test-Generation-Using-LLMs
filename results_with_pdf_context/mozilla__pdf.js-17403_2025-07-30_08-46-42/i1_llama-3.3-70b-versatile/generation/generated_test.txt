it("should render a PDF with many pages without slowing down", async () => {
  const { MessageHandler, LoopbackPort } = await import("../../src/shared/message_handler.js");
  const { PDFWorkerUtil } = await import("../../src/display/api.js");
  const port = new LoopbackPort();
  const messageHandler = new MessageHandler("test", "test", port);
  const largePdfData = new Uint8Array(1024 * 1024); // simulate a large PDF
  const pdfWorkerUtil = new PDFWorkerUtil(port);
  const renderPromise = pdfWorkerUtil.renderPdf(largePdfData);
  const startTime = Date.now();
  await renderPromise;
  const endTime = Date.now();
  const renderTime = endTime - startTime;
  const expectedRenderTime = 5000; // adjust this value based on your system's performance
  expect(renderTime).toBeLessThan(expectedRenderTime);
});