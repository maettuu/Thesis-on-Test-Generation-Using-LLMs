it("should allow changing font size with the slider without blocking the UI", async () => {
  const { AnnotationEditor } = await import("./editor.js");
  const { AnnotationEditorUIManager } = await import("./tools.js");
  const { AnnotationEditorLayer } = await import("./annotation_editor_layer.js");

  const uiManager = new AnnotationEditorUIManager();
  const parent = new AnnotationEditorLayer({ uiManager, pageIndex: 0 });
  const editor = new (class extends AnnotationEditor {
    static _type = "test";
    isEmpty() {
      return false;
    }
    serialize() {
      return {};
    }
  })({ parent, id: "test", uiManager });

  editor.render();
  editor.moveInDOM = jest.fn();
  editor.moveInDOM();

  expect(editor.moveInDOM).toHaveBeenCalledTimes(1);
  expect(setTimeout).toHaveBeenCalledTimes(1);
  expect(clearTimeout).not.toHaveBeenCalled();
});