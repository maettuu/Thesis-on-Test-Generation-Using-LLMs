it("should not block the UI when changing font size with the slider", async () => {
  const { AnnotationEditor } = await import("../../src/display/editor/editor.js");
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");

  const mockParent = {
    pageIndex: 0,
    viewport: {
      rotation: 0,
      rawDims: { pageWidth: 800, pageHeight: 600, pageX: 0, pageY: 0 },
    },
    moveEditorInDOM: jest.fn(),
  };

  const mockUIManager = new AnnotationEditorUIManager();
  const editor = new AnnotationEditor({
    parent: mockParent,
    id: "test-editor",
    name: "Test Editor",
    uiManager: mockUIManager,
    x: 100,
    y: 100,
    isCentered: false,
  });

  editor.moveInDOM();
  expect(mockParent.moveEditorInDOM).not.toHaveBeenCalled();

  await new Promise((resolve) => setTimeout(resolve, 10));
  expect(mockParent.moveEditorInDOM).toHaveBeenCalledWith(editor);
});