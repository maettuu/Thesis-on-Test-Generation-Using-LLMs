it("should correctly compute bounding box for transformed rectangles", async () => {
  const { CanvasExtraState } = await import("../../src/display/canvas.js");
  const { Util } = await import("../../src/shared/util.js");

  const state = new CanvasExtraState(100, 100);
  const rect = [0, 0, 100, 100];
  const transform = [1, 0.5, 0, 1, 0, 0];

  state.minX = Infinity;
  state.minY = Infinity;
  state.maxX = -Infinity;
  state.maxY = -Infinity;

  state.updateRectMinMax(transform, rect);

  const expectedMinX = 0;
  const expectedMinY = 0;
  const expectedMaxX = 150;
  const expectedMaxY = 100;

  expect(state.minX).toBe(expectedMinX);
  expect(state.minY).toBe(expectedMinY);
  expect(state.maxX).toBe(expectedMaxX);
  expect(state.maxY).toBe(expectedMaxY);
});