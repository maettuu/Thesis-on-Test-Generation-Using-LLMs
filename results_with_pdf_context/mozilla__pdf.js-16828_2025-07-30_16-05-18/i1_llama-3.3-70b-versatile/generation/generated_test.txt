it("should support pasting an image from the clipboard", async () => {
  const { AnnotationEditorUIManager, AnnotationEditorLayer, StampEditor } = await import("../../src/display/editor/tools.js");
  const { AnnotationEditorType } = await import("../../shared/util.js");
  const editorLayer = new AnnotationEditorLayer({
    uiManager: new AnnotationEditorUIManager(),
    pageIndex: 0,
    div: document.createElement("div"),
    accessibilityManager: null,
    annotationLayer: null,
    viewport: { rotation: 0, width: 100, height: 100 },
    l10n: null,
  });
  const clipboardData = new DataTransfer();
  const file = new File(["image"], "image.png", { type: "image/png" });
  clipboardData.items.add(file);
  const event = new ClipboardEvent("paste", { clipboardData });
  editorLayer.uiManager.paste(event);
  expect(editorLayer.uiManager.currentLayer.editors.size).toBe(1);
  const editor = Array.from(editorLayer.uiManager.currentLayer.editors.values())[0];
  expect(editor.constructor).toBe(StampEditor);
});