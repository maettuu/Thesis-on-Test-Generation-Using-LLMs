it("should add an SVG image with a blob URL", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const svgBlob = new Blob(['<svg xmlns="http://www.w3.org/2000/svg"></svg>'], { type: 'image/svg+xml' });
  const imageManager = new ImageManager();
  const data = {};

  const addSvgImage = async () => {
    const fileReader = new FileReader();
    const imageElement = new Image();
    const imagePromise = new Promise((resolve, reject) => {
      imageElement.onload = () => {
        data.bitmap = imageElement;
        data.isSvg = true;
        resolve();
      };
      fileReader.onload = () => {
        imageElement.src = data.svgUrl = fileReader.result;
      };
      imageElement.onerror = fileReader.onerror = reject;
    });
    fileReader.readAsDataURL(svgBlob);
    await imagePromise;
  };

  await addSvgImage();
  expect(data.isSvg).toBe(true);
  expect(data.bitmap).toBeInstanceOf(Image);
});