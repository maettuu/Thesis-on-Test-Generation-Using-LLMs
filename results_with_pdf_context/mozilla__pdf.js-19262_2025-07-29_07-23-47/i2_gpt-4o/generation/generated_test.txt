it("should throw an error when a nonnumber array is passed as fontMatrix", async () => {
  const { CompiledFont } = await import("../../src/core/font_renderer.js");
  // An invalid fontMatrix: not all elements are numbers.
  const invalidMatrix = [1, 0, 0, "maliciousCode", 0, 0];
  // Dummy glyph code that is non-empty and does not start with 14.
  const sampleCode = [1, 2, 3];
  const glyphId = 0;
  let error = null;
  try {
    new CompiledFont(invalidMatrix).compileGlyph(sampleCode, glyphId);
  } catch (ex) {
    error = ex;
  }
  if (!error || !/Expected a valid fontMatrix/.test(error.message)) {
    throw new Error("Test failed: Expected an error with 'Expected a valid fontMatrix' to be thrown.");
  }
});
