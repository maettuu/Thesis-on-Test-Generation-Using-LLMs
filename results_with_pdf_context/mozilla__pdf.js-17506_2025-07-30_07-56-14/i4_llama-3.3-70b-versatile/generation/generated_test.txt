it("should highlight images of text in addition to text", async () => {
  const { DrawLayer } = await import("../../src/display/draw_layer.js");
  const { AnnotationEditorLayer } = await import("../../src/display/editor/annotation_editor_layer.js");
  const { HighlightEditor } = await import("../../src/display/editor/highlight.js");
  const { Outliner } = await import("../../src/display/editor/outliner.js");

  const drawLayer = new DrawLayer({ pageIndex: 1 });
  const annotationEditorLayer = new AnnotationEditorLayer({
    div: document.createElement("div"),
    uiManager: {},
    pageIndex: 1,
    drawLayer,
  });

  const highlightEditor = new HighlightEditor({
    parent: annotationEditorLayer,
    id: 1,
    x: 0,
    y: 0,
    uiManager: {},
    isCentered: true,
  });

  const outliner = new Outliner([{ x: 0, y: 0, width: 100, height: 100 }], 0, 0, true);
  const outlines = outliner.getOutlines();

  const id = drawLayer.highlight(outlines, "yellow", 0.5);
  const image = document.createElement("img");
  image.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==";
  annotationEditorLayer.div.appendChild(image);

  const highlightedImage = drawLayer.highlight(outlines, "yellow", 0.5, true);

  expect(highlightedImage).not.toBeNull();
});