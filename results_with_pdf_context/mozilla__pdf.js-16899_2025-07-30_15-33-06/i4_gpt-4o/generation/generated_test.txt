it("should display FreeText annotation", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const loadingTask = getDocument(buildGetDocumentParams('bug1851498.pdf'));
  const pdfDocument = await loadingTask.promise;
  const page = await pdfDocument.getPage(1);
  const annotations = await page.getAnnotations();
  const freeTextAnnotations = annotations.filter(
    annotation => annotation.subtype === 'FreeText'
  );
  const hasPopupData = freeTextAnnotations.some(annotation => 
    annotation.title || annotation.contents || annotation.richText
  );
  expect(hasPopupData).toBe(true);
});