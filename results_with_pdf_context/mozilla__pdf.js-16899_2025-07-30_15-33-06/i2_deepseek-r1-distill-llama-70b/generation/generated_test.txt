it("should render freetext annotation without popup data", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams('bug1851498.pdf'));

  const pdf = await loadingTask.promise;
  const page = await pdf.getPage(1);
  const annotationLayer = new (await import("./annotation_layer.js")).AnnotationLayer({
    page,
    linkService: { eventBus: { dispatch: () => {} } },
    downloadManager: { download: () => Promise.resolve() },
    imageResourcesPath: "",
    renderForms: false,
    svgFactory: new (await import("./display_utils.js")).DOMSVGFactory(),
    annotationStorage: new (await import("./annotation_storage.js")).AnnotationStorage(),
    enableScripting: false,
    hasJSActions: false,
    fieldObjects: [],
    parent: null,
  });

  const container = document.createElement("div");
  annotationLayer.render(container);

  const freeTextAnnotation = container.querySelector(".freeTextAnnotation");

  expect(freeTextAnnotation).toBeTruthy();
});