it("should display FreeText annotation", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const loadingTask = getDocument(buildGetDocumentParams("bug1851498.pdf"));
  const pdfDocument = await loadingTask.promise;
  const page = await pdfDocument.getPage(1);
  const annotations = await page.getAnnotations({ intent: "display" });

  const freeTextAnnotations = annotations.filter(
    annotation => annotation.annotationType === AnnotationType.FREETEXT
  );

  expect(freeTextAnnotations.length).toBeGreaterThan(0);
  expect(freeTextAnnotations[0].hasPopupData).toBe(true);
});