it("should render poster PDFs quickly by avoiding unnecessary filter resets", async () => {
  const { resetCtxToDefault } = await import("../../src/display/canvas.js");
  const canvas = new (await import("canvas")).Canvas(1, 1);
  const ctx = canvas.getContext("2d");

  // Simulate a filter being set
  ctx.filter = "blur(5px)";

  // Measure the time to reset the context
  const startTime = Date.now();
  resetCtxToDefault(ctx);
  const endTime = Date.now();

  // The time should be under a reasonable threshold
  expect(endTime - startTime).toBeLessThan(100);
});