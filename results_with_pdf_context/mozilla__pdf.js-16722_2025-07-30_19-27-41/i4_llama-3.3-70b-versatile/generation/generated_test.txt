it("should render poster PDF without slowing down Firefox", async () => {
  const { PDFDocument } = await import("../../src/core/document.js");
  const { PDFPage } = await import("../../src/core/document.js");
  const { CanvasGraphics } = await import("./canvas.js");
  const { DOMCanvasFactory } = await import("../../src/display/display_utils.js");
  const { createIdFactory } = await import("./test_utils.js");

  const pdf = await PDFDocument.load(await fetch("path_to_poster_pdf.pdf").then(res => res.arrayBuffer()));
  const page = await pdf.getPage(1);
  const canvasFactory = new DOMCanvasFactory();
  const idFactory = createIdFactory();
  const graphics = new CanvasGraphics(
    canvasFactory.create(100, 100).context,
    new Map(),
    new Map(),
    canvasFactory,
    null,
    {},
    new Map(),
    null
  );

  const startTime = performance.now();
  await page.render({
    canvasContext: graphics.ctx,
    viewport: page.getViewport({ scale: 1 }),
  });
  const endTime = performance.now();

  expect(endTime - startTime).toBeLessThan(1000);
});