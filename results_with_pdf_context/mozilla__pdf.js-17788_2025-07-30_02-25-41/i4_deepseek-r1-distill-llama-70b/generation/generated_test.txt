it("should allow Voice Over to read highlighted text during editing", async () => {
  const { PDFDocument } = await import("../../src/core/pdf_document.js");
  const { TextLayer } = await import("../../src/display/text_layer.js");
  const { DrawLayer } = await import("../../src/display/draw_layer.js");
  const { HighlightEditor } = await import("../../src/display/editor/highlight.js");

  // Set up a minimal test PDF
  const pdfBytes = new Uint8Array([0x25, 0x50, 0x44, 0x46]);
  const pdf = await PDFDocument.load(pdfBytes, { isEvalSupported: false });

  // Create a text layer with some content
  const text = "Hello World";
  const textLayer = new TextLayer();
  textLayer.setText(text);

  // Create a highlight editor
  const highlightEditor = new HighlightEditor({
    text: text,
    color: "#FFFF98",
    opacity: 1,
    thickness: 12,
    methodOfCreation: "main_toolbar",
  });

  // Render the highlight
  const highlightDiv = highlightEditor.render();

  // Check for the visually hidden mark element
  const markElement = highlightDiv.querySelector(".visuallyHidden");
  expect(markElement).toBeTruthy();
  expect(markElement.textContent).toBe(text);
});