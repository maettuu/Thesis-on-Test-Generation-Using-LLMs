it("should read highlighted text during editing inside a PDF", async () => {
  const { PDFDocument, PDFPageProxy, PDFWorkerUtil } = await import("../../src/display/api.js");
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { PDFViewer } = await import("../../web/pdf_viewer.js");

  const pdfViewer = new PDFViewer();
  const pdfDocument = await PDFDocument.load(await fetch("path_to_test_pdf.pdf").then(response => response.arrayBuffer()));
  const pdfPageProxy = pdfDocument.getPage(1);
  const annotationEditorUIManager = new AnnotationEditorUIManager(pdfViewer, pdfPageProxy);

  const selection = {
    anchorNode: { nodeType: Node.TEXT_NODE, data: "Hello" },
    anchorOffset: 0,
    focusNode: { nodeType: Node.TEXT_NODE, data: "World" },
    focusOffset: 5,
    toString: () => "Hello World"
  };

  const expectedText = "Hello World";
  const actualText = await annotationEditorUIManager.createAnnotationEditor(selection);

  expect(actualText).toBe(expectedText);
});