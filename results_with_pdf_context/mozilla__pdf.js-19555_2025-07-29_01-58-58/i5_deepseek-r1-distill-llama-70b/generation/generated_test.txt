it("should correctly handle RC encryption with bit key", async () => {
  const { getDocument } = await import('../../src/display/api.js');
  const { buildGetDocumentParams } = await import('./test_utils.js');
  const loadingTask = getDocument(buildGetDocumentParams('issue19484_1.pdf'));

  const loadPromise = new Promise((resolve, reject) => {
    loadingTask.onProgress = (progress) => {
      if (progress.state === 'DONE') {
        resolve(loadingTask.pdf);
      }
    };
    loadingTask.onError = reject;
  });

  const pdf = await loadPromise;
  const page = await pdf.getPage(1);
  const textContent = await page.getTextContent();

  expect(textContent.items.length).toBeGreaterThan(0);
});