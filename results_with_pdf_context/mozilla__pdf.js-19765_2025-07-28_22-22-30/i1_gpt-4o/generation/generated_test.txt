it("should apply a margin style separator space to the radiocheckbox input via the patched toStyle call", async () => {
  const { XFAFactory } = await import("../../src/core/xfa/factory.js");
  const { $toHTML } = await import("../../src/core/xfa/symbol_utils.js");
  const xml = `
    <xdp:xdp xmlns:xdp="http://ns.adobe.com/xdp/">
      <template xmlns="http://www.xfa.org/schema/xfa-template/3.3/">
        <subform>
          <exclGroup>
            <field name="TestField">
              <checkButton size="10pt" margin="5px">
                <items>
                  <text>Yes</text>
                  <text>No</text>
                </items>
                <value>Yes</value>
              </checkButton>
            </field>
          </exclGroup>
        </subform>
      </template>
    </xdp:xdp>
  `;
  const xfa = await XFAFactory.create(xml);
  // Resolve the field by its name.
  const field = xfa.resolveNode("TestField");
  // The checkButton is the first (and only) item in field.items.children.
  const checkButton = field.items.children[0];
  // Force the margin to be set (the factory should pick it up from the XML).
  // Render the checkButton into HTML.
  const htmlResult = checkButton[$toHTML]();
  // The returned HTML is a label that wraps the input.
  const input = htmlResult.html.children[0];
  // The style object should now include the margin from the checkButton ("5px")
  const style = input.attributes.style;
  if (!style.margin || style.margin !== "5px") {
    throw new Error("Expected margin style '5px', but got: " + (style.margin || "undefined"));
  }
});
