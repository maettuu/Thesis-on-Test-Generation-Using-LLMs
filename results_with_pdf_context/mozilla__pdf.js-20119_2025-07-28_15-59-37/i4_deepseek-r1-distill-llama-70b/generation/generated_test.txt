it("should add highlight and comment buttons to context menu", async () => {
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { EditorToolbar } = await import("../../src/display/editor/toolbar.js");

  // Setup mock PDF document and viewer
  const pdfDocument = { annotationStorage: {} };
  const viewer = { alert: {} };

  // Initialize UI manager
  const uiManager = new AnnotationEditorUIManager(
    {} as any,
    viewer as any,
    viewer.alert as any,
    null,
    null,
    null,
    null,
    pdfDocument,
    null,
    null,
    false,
    false,
    false,
    null,
    null,
    false
  );

  // Simulate text selection
  const selection = document.getSelection();
  const range = document.createRange();
  range.selectNode(document.createElement("div"));
  selection.removeRange(range);
  selection.addRange(range);

  // Display context menu
  const textLayer = {} as any;
  await uiManager.displayFloatingToolbar();

  // Check for highlight and comment buttons
  const highlightButton = document.querySelector("[data-l10n-id='pdfjs-highlight-floating-button1']");
  const commentButton = document.querySelector("[data-l10n-id='pdfjs-comment-floating-button']");

  expect(highlightButton).toBeTruthy();
  expect(commentButton).toBeTruthy();
});