it("should add comment selection to context menu and trigger commentSelection", async () => {
  const { AnnotationEditorUIManager } = await import("../../display/editor/tools.js");
  const { Util } = await import("../../shared/util.js");

  const eventBus = {
    _on: jest.fn(),
    once: jest.fn(),
  };

  const uiManager = {
    _signal: Symbol(),
    highlightSelection: jest.fn(),
    commentSelection: jest.fn(),
    delete: jest.fn(),
    onEditingAction: jest.fn(),
  };

  const params = {
    container: document.createElement("div"),
    viewer: {},
    viewerAlert: {},
    altTextManager: {},
    commentManager: {},
    signatureManager: {},
    eventBus,
    pdfDocument: {},
    pageColors: {},
    highlightColors: {},
    enableHighlightFloatingButton: true,
    enableUpdatedAddImage: false,
    enableNewAltTextWhenAddingImage: false,
    mlManager: null,
    editorUndoBar: null,
    supportsPinchToZoom: false,
  };

  const manager = new AnnotationEditorUIManager(...Object.values(params));

  const editingAction = {
    name: "commentSelection",
  };

  manager.onEditingAction(editingAction);

  expect(uiManager.commentSelection).toHaveBeenCalled();
});