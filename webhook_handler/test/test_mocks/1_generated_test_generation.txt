
def test_last_modified_raises_custom_exception():
    from bugbug.db import last_modified, LastModifiedNotAvailable
    import pytest

    # Mock the DATABASES to simulate the condition where the schema is different
    from bugbug.db import DATABASES
    DATABASES['test_path'] = {
        "url": "http://example.com/",
        "version": 2
    }

    # Mock the utils.get_last_modified to return None
    from unittest.mock import patch

    with patch('bugbug.utils.get_last_modified', return_value=None):
        with pytest.raises(LastModifiedNotAvailable):
            last_modified('test_path')