describe("graphics-state operators", function () {
    it("should convert negative line width to absolute value in the graphic state", async function () {
      const gState = new Dict();
      gState.set("LW", -5);
      const extGState = new Dict();
      extGState.set("GSneg", gState);

      const resources = new ResourcesMock();
      resources.ExtGState = extGState;

      const stream = new StringStream("/GSneg gs");
      const result = await runOperatorListCheck(
        partialEvaluator,
        stream,
        resources
      );

      expect(result.fnArray).toEqual([OPS.setGState]);

      const stateEntries = result.argsArray[0][0];
      const lwEntry = stateEntries.find(([key]) => key === "LW");
      expect(lwEntry).toBeDefined();
      expect(lwEntry[1]).toEqual(5);
    });
});