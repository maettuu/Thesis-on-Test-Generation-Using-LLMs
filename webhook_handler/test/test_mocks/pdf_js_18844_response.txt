it("should use Calibri and Lucida Console on Windows with Firefox", async function () {
    const { TextLayer } = await import("../../display/text_layer.js");
    const { FeatureTest } = await import("../../shared/util.js");

    Object.defineProperty(FeatureTest, "platform", {
        get: () => ({ isWindows: true, isFirefox: true }),
    });

    const fontFamilyMap = TextLayer.fontFamilyMap;
    const expectedSansSerif = "Calibri, sans-serif";
    const expectedMonospace = "Lucida Console, monospace";

    const actualSansSerif = fontFamilyMap.get("sans-serif");
    const actualMonospace = fontFamilyMap.get("monospace");

    expect(actualSansSerif).toBe(expectedSansSerif);
    expect(actualMonospace).toBe(expectedMonospace);
});