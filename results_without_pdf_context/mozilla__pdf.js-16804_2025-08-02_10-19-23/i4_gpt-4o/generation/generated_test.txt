it("should not display the pin when fillAlpha is", async () => {
  const { FileAttachmentAnnotation } = await import("../../src/core/annotation.js");
  const { FileAttachmentAnnotationElement } = await import("../../src/display/annotation_layer.js");

  const dict = {
    get: (key) => {
      if (key === "Name") return { name: "PushPin" };
      if (key === "ca") return 0;
      return null;
    },
  };

  const params = {
    dict,
    xref: null,
    data: {
      id: "test-id",
      hasAppearance: false,
      fillAlpha: 0,
    },
    layer: document.createElement("div"),
    linkService: {},
    downloadManager: {},
    imageResourcesPath: "",
    renderForms: false,
    svgFactory: {},
    annotationStorage: {},
    enableScripting: false,
    hasJSActions: false,
    fieldObjects: null,
    parent: { page: { view: [0, 0, 100, 100] }, viewport: { rawDims: { pageWidth: 100, pageHeight: 100, pageX: 0, pageY: 0 } }, zIndex: 0 },
  };

  const annotation = new FileAttachmentAnnotation(params);
  const element = new FileAttachmentAnnotationElement(params);
  const rendered = element.render();

  const expected = "none";
  const actual = rendered.querySelector("img").style.display;

  expect(actual).toBe(expected);
});