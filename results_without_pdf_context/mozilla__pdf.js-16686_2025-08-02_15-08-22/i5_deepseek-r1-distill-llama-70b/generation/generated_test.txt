it("should correctly add SVG images with blob URLs", async () => {
  const testSvg = `<svg width="100" height="100"><rect width="100" height="100" fill="red"/></svg>`;
  const blob = new Blob([testSvg], { type: 'image/svg+xml' });
  const url = URL.createObjectURL(blob);

  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const imageManager = new ImageManager();
  const data = {
    filename: 'test.svg',
    type: 'image/svg+xml'
  };

  await imageManager.addImage(blob, data);

  expect(data.bitmap).toBeInstanceOf(Image);
  expect(data.isSvg).toBe(true);
  expect(data.svgUrl).toMatch(/^data:image\/svg\+xml/);
});