it("should disable image smoothing when only one scale factor is below the actual scale and interpolate is not set", async () => {
  const { getImageSmoothingEnabled } = await import("../../src/display/canvas.js");
  const { PixelsPerInch } = await import("../../src/display/display_utils.js");
  const devicePixelRatio = globalThis.devicePixelRatio || 1;
  const actualScale = Math.fround(devicePixelRatio * PixelsPerInch.PDF_TO_CSS_UNITS);
  const delta = 0.1;
  // Set scaleX below actualScale and scaleY above actualScale.
  const scaleX = actualScale - delta;
  const scaleY = actualScale + delta;
  // Create a simple transform matrix [scaleX, 0, 0, scaleY, 0, 0]
  const transform = [scaleX, 0, 0, scaleY, 0, 0];
  // Do not pass an explicit interpolate (undefined).
  const smoothing = getImageSmoothingEnabled(transform, undefined);
  if (smoothing !== false) {
    throw new Error("Expected smoothing to be false, but got true");
  }
});