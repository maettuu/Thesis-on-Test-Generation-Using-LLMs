it("should correctly render GillSansMT fonts as Helvetica", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const { TextLayerBuilder } = await import("../../src/web/text_layer_builder.js");
  const { createIdFactory } = await import("./test_utils.js");

  // Create a test PDF with GillSansMT fonts
  const pdfContent = new TextEncoder().encode(`
    %PDF-1.4
    1 0 obj
    <</Type /Catalog /Pages 2 0 R>>
    endobj
    2 0 obj
    <</Type /Pages /Kids [3 0 R] /Count 1>>
    endobj
    3 0 obj
    <</Type /Page /Parent 2 0 R /Resources 4 0 R>>
    endobj
    4 0 obj
    <</Font <</F1 5 0 R>>>
    endobj
    5 0 obj
    <</Type /Font /Subtype /Type1 /BaseFont /GillSansMT>>
    endobj
    trailer <</Root 1 0 R>>
  `);

  const pdfBlob = new Blob([pdfContent], { type: "application/pdf" });
  const pdfUrl = URL.createObjectURL(pdfBlob);

  // Load the PDF document
  const pdf = await PDFDocument.load({ url: pdfUrl });
  const page = await pdf.getPage(1);

  // Render the page and extract text
  const textLayer = new TextLayerBuilder();
  const textLayerCanvas = document.createElement("canvas");
  textLayer.setup(textLayerCanvas);
  await page.render({ canvasContext: textLayerCanvas.getContext("2d") });

  const text = await textLayer.getText();

  // Expected text from the PDF
  const expectedText = "Hello, World!";

  expect(text).toContain(expectedText);
});