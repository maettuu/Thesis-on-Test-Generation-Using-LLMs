[2025-08-01 22:03:57] MARKER   : =============== Running Payload #17680 ===============
[2025-08-01 22:03:57] MARKER   : ================ Preparing Environment ===============
[2025-08-01 22:03:57] SUCCESS  : Linked GitHub issue #17679 fetched successfully
[2025-08-01 22:04:02] WARNING  : No PDF file available
[2025-08-01 22:04:02] INFO     : Cloning repository https://github.com/mozilla/pdf.js.git
[2025-08-01 22:04:11] SUCCESS  : Cloning successful
[2025-08-01 22:04:11] INFO     : Fetching test file for injection...
[2025-08-01 22:04:12] SUCCESS  : Test file test/unit/evaluator_spec.js fetched successfully
[2025-08-01 22:04:13] WARNING  : No existing image 'image_mozilla__pdf.js-17680' found
[2025-08-01 22:04:13] INFO     : Building from scratch based on commit a83a8d7e4feb0d35b4286475c10ad10ba114a6f5
[2025-08-01 22:09:56] SUCCESS  : Docker image 'image_mozilla__pdf.js-17680' built successfully
[2025-08-01 22:09:56] MARKER   : ================ Preparation Complete ================
[2025-08-01 22:09:56] MARKER   : Attempt 1 with model gpt-4o
[2025-08-01 22:09:56] MARKER   : =============== Test Generation Started ==============
[2025-08-01 22:09:56] MARKER   : Running test in pre-PR codebase...
[2025-08-01 22:09:56] INFO     : Creating container...
[2025-08-01 22:10:02] SUCCESS  : Container b8498ee55571 started
[2025-08-01 22:10:02] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:10:02] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:10:02] INFO     : Running test command...
[2025-08-01 22:10:29] SUCCESS  : Test command executed
[2025-08-01 22:10:29] FAIL     : Test evaluated as failed
[2025-08-01 22:10:29] WARNING  : Stopping and removing container...
[2025-08-01 22:10:44] SUCCESS  : Container stopped and removed
[2025-08-01 22:10:44] MARKER   : Running test in post-PR codebase...
[2025-08-01 22:10:44] INFO     : Creating container...
[2025-08-01 22:10:46] SUCCESS  : Container fc8d3f80ed3a started
[2025-08-01 22:10:47] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:10:47] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:10:47] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-01 22:10:47] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-01 22:10:47] INFO     : Running test command...
[2025-08-01 22:11:13] SUCCESS  : Test command executed
[2025-08-01 22:11:13] INFO     : Test evaluated as passed
[2025-08-01 22:11:13] WARNING  : Stopping and removing container...
[2025-08-01 22:11:27] SUCCESS  : Container stopped and removed
[2025-08-01 22:11:27] SUCCESS  : Fail-to-Pass test generated
[2025-08-01 22:11:27] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should add a default beginMarkedContentProps op when encountering malformed arguments", async () => {
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { OPS, warn } = await import("../../src/shared/util.js");
  const { Dict } = await import("../../src/core/primitives.js");
  const { StringStream } = await import("../../src/core/stream.js");
  const { OperatorList } = await import("../../src/core/operator_list.js");
  const { XRefMock } = await import("./test_utils.js");
  const { WorkerTask } = await import("../../src/core/worker.js");
  // The PDF content simulates a malformed beginMarkedContentProps operator:
  // instead of a Name as the first argument, a number is provided.
  // In PDF syntax, "BDC" maps to beginMarkedContentProps.
  const pdfContent = "123 << /MCID 7 >> BDC";
  const stream = new StringStream(pdfContent);
  const operatorList = new OperatorList();
  const xref = new XRefMock();
  const resources = Dict.empty;
  const task = new WorkerTask("test", () => {});
  const partialEvaluator = new PartialEvaluator({
    xref,
    handler: null,
    pageIndex: 0,
    idFactory: null,
    fontCache: null,
    builtInCMapCache: {},
    standardFontDataCache: {},
    globalImageCache: { getData: () => null },
    systemFontCache: {},
    options: { ignoreErrors: false }
  });
  return partialEvaluator.getOperatorList({ stream, task, resources, operatorList }).then(() => {
    const idx = operatorList.fnArray.indexOf(OPS.beginMarkedContentProps);
    if (idx === -1) {
      throw new Error("Missing beginMarkedContentProps operator");
    }
    const args = operatorList.argsArray[idx];
    if (args[0] !== "OC" || args[1] !== null) {
      throw new Error("Unexpected arguments for beginMarkedContentProps operator");
    }
  });
});

```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/evaluator_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-01 22:11:27] MARKER   : =============== Test Generation Finished =============
[2025-08-01 22:11:27] SUCCESS  : Attempt 1 with model gpt-4o finished successfully
[2025-08-01 22:11:27] SUCCESS  : Test file copied to generated_tests/pdf_js_17680_i1_gpt-4o.txt
[2025-08-01 22:11:27] INFO     : Environment ready â€“ preparation skipped
[2025-08-01 22:11:27] MARKER   : Attempt 1 with model llama-3.3-70b-versatile
[2025-08-01 22:11:27] MARKER   : =============== Test Generation Started ==============
[2025-08-01 22:11:27] MARKER   : Running test in pre-PR codebase...
[2025-08-01 22:11:27] INFO     : Creating container...
[2025-08-01 22:11:31] SUCCESS  : Container cedebff8055e started
[2025-08-01 22:11:31] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:11:31] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:11:31] INFO     : Running test command...
[2025-08-01 22:11:57] SUCCESS  : Test command executed
[2025-08-01 22:11:57] FAIL     : Test evaluated as failed
[2025-08-01 22:11:57] WARNING  : Stopping and removing container...
[2025-08-01 22:12:08] SUCCESS  : Container stopped and removed
[2025-08-01 22:12:08] MARKER   : Running test in post-PR codebase...
[2025-08-01 22:12:08] INFO     : Creating container...
[2025-08-01 22:12:15] SUCCESS  : Container 8cdfabd5d7c1 started
[2025-08-01 22:12:15] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:12:15] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:12:15] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-01 22:12:15] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-01 22:12:15] INFO     : Running test command...
[2025-08-01 22:12:40] SUCCESS  : Test command executed
[2025-08-01 22:12:40] INFO     : Test evaluated as passed
[2025-08-01 22:12:40] WARNING  : Stopping and removing container...
[2025-08-01 22:12:59] SUCCESS  : Container stopped and removed
[2025-08-01 22:12:59] SUCCESS  : Fail-to-Pass test generated
[2025-08-01 22:12:59] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should add a default beginMarkedContentProps op when encountering malformed arguments", async () => {
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { OPS, warn } = await import("../../src/shared/util.js");
  const { Dict } = await import("../../src/core/primitives.js");
  const { StringStream } = await import("../../src/core/stream.js");
  const { OperatorList } = await import("../../src/core/operator_list.js");
  const { XRefMock } = await import("./test_utils.js");
  const { WorkerTask } = await import("../../src/core/worker.js");
  // The PDF content simulates a malformed beginMarkedContentProps operator:
  // instead of a Name as the first argument, a number is provided.
  // In PDF syntax, "BDC" maps to beginMarkedContentProps.
  const pdfContent = "123 << /MCID 7 >> BDC";
  const stream = new StringStream(pdfContent);
  const operatorList = new OperatorList();
  const xref = new XRefMock();
  const resources = Dict.empty;
  const task = new WorkerTask("test", () => {});
  const partialEvaluator = new PartialEvaluator({
    xref,
    handler: null,
    pageIndex: 0,
    idFactory: null,
    fontCache: null,
    builtInCMapCache: {},
    standardFontDataCache: {},
    globalImageCache: { getData: () => null },
    systemFontCache: {},
    options: { ignoreErrors: false }
  });
  return partialEvaluator.getOperatorList({ stream, task, resources, operatorList }).then(() => {
    const idx = operatorList.fnArray.indexOf(OPS.beginMarkedContentProps);
    if (idx === -1) {
      throw new Error("Missing beginMarkedContentProps operator");
    }
    const args = operatorList.argsArray[idx];
    if (args[0] !== "OC" || args[1] !== null) {
      throw new Error("Unexpected arguments for beginMarkedContentProps operator");
    }
  });
});

```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/evaluator_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-01 22:12:59] MARKER   : =============== Test Generation Finished =============
[2025-08-01 22:12:59] SUCCESS  : Attempt 1 with model llama-3.3-70b-versatile finished successfully
[2025-08-01 22:12:59] SUCCESS  : Test file copied to generated_tests/pdf_js_17680_i1_llama-3.3-70b-versatile.txt
[2025-08-01 22:12:59] INFO     : Environment ready â€“ preparation skipped
[2025-08-01 22:12:59] MARKER   : Attempt 1 with model deepseek-r1-distill-llama-70b
[2025-08-01 22:12:59] MARKER   : =============== Test Generation Started ==============
[2025-08-01 22:12:59] MARKER   : Running test in pre-PR codebase...
[2025-08-01 22:12:59] INFO     : Creating container...
[2025-08-01 22:13:01] SUCCESS  : Container 3bf121b05237 started
[2025-08-01 22:13:01] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:13:02] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:13:02] INFO     : Running test command...
[2025-08-01 22:13:27] SUCCESS  : Test command executed
[2025-08-01 22:13:27] FAIL     : Test evaluated as failed
[2025-08-01 22:13:27] WARNING  : Stopping and removing container...
[2025-08-01 22:13:40] SUCCESS  : Container stopped and removed
[2025-08-01 22:13:40] MARKER   : Running test in post-PR codebase...
[2025-08-01 22:13:40] INFO     : Creating container...
[2025-08-01 22:13:46] SUCCESS  : Container 92e926909f7e started
[2025-08-01 22:13:47] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:13:47] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:13:47] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-01 22:13:47] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-01 22:13:47] INFO     : Running test command...
[2025-08-01 22:14:12] SUCCESS  : Test command executed
[2025-08-01 22:14:12] INFO     : Test evaluated as passed
[2025-08-01 22:14:12] WARNING  : Stopping and removing container...
[2025-08-01 22:14:27] SUCCESS  : Container stopped and removed
[2025-08-01 22:14:27] SUCCESS  : Fail-to-Pass test generated
[2025-08-01 22:14:27] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should add a default beginMarkedContentProps op when encountering malformed arguments", async () => {
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { OPS, warn } = await import("../../src/shared/util.js");
  const { Dict } = await import("../../src/core/primitives.js");
  const { StringStream } = await import("../../src/core/stream.js");
  const { OperatorList } = await import("../../src/core/operator_list.js");
  const { XRefMock } = await import("./test_utils.js");
  const { WorkerTask } = await import("../../src/core/worker.js");
  // The PDF content simulates a malformed beginMarkedContentProps operator:
  // instead of a Name as the first argument, a number is provided.
  // In PDF syntax, "BDC" maps to beginMarkedContentProps.
  const pdfContent = "123 << /MCID 7 >> BDC";
  const stream = new StringStream(pdfContent);
  const operatorList = new OperatorList();
  const xref = new XRefMock();
  const resources = Dict.empty;
  const task = new WorkerTask("test", () => {});
  const partialEvaluator = new PartialEvaluator({
    xref,
    handler: null,
    pageIndex: 0,
    idFactory: null,
    fontCache: null,
    builtInCMapCache: {},
    standardFontDataCache: {},
    globalImageCache: { getData: () => null },
    systemFontCache: {},
    options: { ignoreErrors: false }
  });
  return partialEvaluator.getOperatorList({ stream, task, resources, operatorList }).then(() => {
    const idx = operatorList.fnArray.indexOf(OPS.beginMarkedContentProps);
    if (idx === -1) {
      throw new Error("Missing beginMarkedContentProps operator");
    }
    const args = operatorList.argsArray[idx];
    if (args[0] !== "OC" || args[1] !== null) {
      throw new Error("Unexpected arguments for beginMarkedContentProps operator");
    }
  });
});

```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/evaluator_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-01 22:14:27] MARKER   : =============== Test Generation Finished =============
[2025-08-01 22:14:27] SUCCESS  : Attempt 1 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-01 22:14:27] SUCCESS  : Test file copied to generated_tests/pdf_js_17680_i1_deepseek-r1-distill-llama-70b.txt
[2025-08-01 22:14:27] SUCCESS  : MOCK response fetched successfully
[2025-08-01 22:14:27] INFO     : Environment ready â€“ preparation skipped
[2025-08-01 22:14:27] MARKER   : Attempt 1 with model MOCK
[2025-08-01 22:14:27] MARKER   : =============== Test Generation Started ==============
[2025-08-01 22:14:27] MARKER   : Running test in pre-PR codebase...
[2025-08-01 22:14:27] INFO     : Creating container...
[2025-08-01 22:14:32] SUCCESS  : Container 54b3f4af98c0 started
[2025-08-01 22:14:33] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:14:33] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:14:33] INFO     : Running test command...
[2025-08-01 22:14:58] SUCCESS  : Test command executed
[2025-08-01 22:14:58] FAIL     : Test evaluated as failed
[2025-08-01 22:14:58] WARNING  : Stopping and removing container...
[2025-08-01 22:15:12] SUCCESS  : Container stopped and removed
[2025-08-01 22:15:12] MARKER   : Running test in post-PR codebase...
[2025-08-01 22:15:12] INFO     : Creating container...
[2025-08-01 22:15:17] SUCCESS  : Container a5da55e452fa started
[2025-08-01 22:15:18] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-01 22:15:18] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-01 22:15:18] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-01 22:15:18] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-01 22:15:18] INFO     : Running test command...
[2025-08-01 22:15:43] SUCCESS  : Test command executed
[2025-08-01 22:15:43] INFO     : Test evaluated as passed
[2025-08-01 22:15:43] WARNING  : Stopping and removing container...
[2025-08-01 22:15:55] SUCCESS  : Container stopped and removed
[2025-08-01 22:15:55] SUCCESS  : Fail-to-Pass test generated
[2025-08-01 22:15:55] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should add a default beginMarkedContentProps op when encountering malformed arguments", async () => {
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { OPS, warn } = await import("../../src/shared/util.js");
  const { Dict } = await import("../../src/core/primitives.js");
  const { StringStream } = await import("../../src/core/stream.js");
  const { OperatorList } = await import("../../src/core/operator_list.js");
  const { XRefMock } = await import("./test_utils.js");
  const { WorkerTask } = await import("../../src/core/worker.js");
  // The PDF content simulates a malformed beginMarkedContentProps operator:
  // instead of a Name as the first argument, a number is provided.
  // In PDF syntax, "BDC" maps to beginMarkedContentProps.
  const pdfContent = "123 << /MCID 7 >> BDC";
  const stream = new StringStream(pdfContent);
  const operatorList = new OperatorList();
  const xref = new XRefMock();
  const resources = Dict.empty;
  const task = new WorkerTask("test", () => {});
  const partialEvaluator = new PartialEvaluator({
    xref,
    handler: null,
    pageIndex: 0,
    idFactory: null,
    fontCache: null,
    builtInCMapCache: {},
    standardFontDataCache: {},
    globalImageCache: { getData: () => null },
    systemFontCache: {},
    options: { ignoreErrors: false }
  });
  return partialEvaluator.getOperatorList({ stream, task, resources, operatorList }).then(() => {
    const idx = operatorList.fnArray.indexOf(OPS.beginMarkedContentProps);
    if (idx === -1) {
      throw new Error("Missing beginMarkedContentProps operator");
    }
    const args = operatorList.argsArray[idx];
    if (args[0] !== "OC" || args[1] !== null) {
      throw new Error("Unexpected arguments for beginMarkedContentProps operator");
    }
  });
});

```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/evaluator_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-01 22:15:55] MARKER   : =============== Test Generation Finished =============
[2025-08-01 22:15:55] SUCCESS  : MOCK finished successfully
[2025-08-01 22:15:55] SUCCESS  : Test file copied to generated_tests/pdf_js_17680_i1_MOCK.txt
[2025-08-01 22:15:55] MARKER   : =============== Finished Payload #17680 ==============
[2025-08-01 22:15:55] SUCCESS  : Directory tmp_repo_dir_mozilla__pdf.js-17680 removed successfully
[2025-08-01 22:15:58] SUCCESS  : Removed Docker image 'image_mozilla__pdf.js-17680'
