```javascript
it("should correctly render PDF with transparency filters in Firefox when <base href> is present", async () => {
  const { DOMFilterFactory } = await import("../../src/display/display_utils.js");
  const { PDFDocumentProxy } = await import("../../src/display/api.js");
  
  const docId = "testDoc";
  const ownerDocument = {
    URL: "http://example.com/viewer.html",
    baseURI: "http://example.com/",
  };
  const filterFactory = new DOMFilterFactory({ docId, ownerDocument });
  
  const maps = [{ r: 0.5, g: 0.5, b: 0.5 }];
  const expectedUrl = "url(http://example.com/viewer.html#g_testDoc_transfer_map_0)";
  
  const actualUrl = filterFactory.addFilter(maps);
  
  expect(actualUrl).toBe(expectedUrl);
});
```