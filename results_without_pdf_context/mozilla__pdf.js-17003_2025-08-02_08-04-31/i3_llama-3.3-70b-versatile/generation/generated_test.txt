it("should resolve the warning when printing a pdf with an added annotation", async () => {
  const pdfManager = {
    ensureCatalog: async (key) => {
      if (key === "acroForm") {
        return new Dict();
      }
      return null;
    },
    ensureDoc: async (key) => {
      if (key === "xfaDatasets") {
        return new Dict();
      }
      return null;
    },
    ensure: async (obj, method, args) => {
      if (method === "_create") {
        return new Annotation({
          dict: new Dict(),
          xref: new XRefMock(),
          annotationGlobals: {
            pdfManager,
            acroForm: new Dict(),
            xfaDatasets: new Dict(),
            structTreeRoot: new Dict(),
            baseUrl: new Dict(),
            attachments: new Dict(),
          },
          idFactory: createIdFactory(),
          collectFields: true,
          pageIndex: 0,
          pageRef: new Ref(),
        });
      }
      return null;
    },
  };

  const annotationFactory = new AnnotationFactory();
  const xref = new XRefMock();
  const ref = new Ref();
  const annotationGlobals = await AnnotationFactory.createGlobals(pdfManager);
  const idFactory = createIdFactory();

  const consoleWarnSpy = jest.spyOn(console, "warn");

  await annotationFactory.create(xref, ref, annotationGlobals, idFactory, true, new Ref());

  expect(consoleWarnSpy).toHaveBeenCalledTimes(0);
});