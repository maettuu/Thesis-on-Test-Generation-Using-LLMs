it("should not warn about unknown field names when printing with annotations", async () => {
  const { PDFDocument } = await import("../../src/core/document.js");
  const { Annotation, AnnotationFactory } = await import("../../src/core/annotation.js");

  // Create a test PDF document
  const pdf = new PDFDocument();
  const page = pdf.addPage();

  // Create a test annotation
  const annotation = new Annotation({
    subtype: "Square",
    page: page,
    rect: [0, 0, 100, 100],
    color: "#FF0000",
    author: "Test Author",
    content: "Test Annotation"
  });

  // Set up console.warn mock
  const originalWarn = console.warn;
  const warningMessage = "Warning: Unknown field name, falling back to empty field name.";
  let warned = false;

  console.warn = (message) => {
    if (message === warningMessage) {
      warned = true;
    }
  };

  // Print the document with the annotation
  const printTask = pdf.print();
  await printTask.promise;

  // Restore console.warn
  console.warn = originalWarn;

  // Assert that the warning was not logged
  expect(warned).toBe(false);
});