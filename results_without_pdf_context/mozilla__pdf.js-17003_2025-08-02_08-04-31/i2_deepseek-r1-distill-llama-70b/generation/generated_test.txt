it("should not log warning when printing with annotations", async () => {
  const { PDFDocument } = await import("../../web/pdf_document.js");
  const { Annotation } = await import("../../src/core/annotation.js");
  const { TestReporter } = await import("./testreporter.js");

  const reporter = new TestReporter();
  let warningLogged = false;

  reporter.warn = (message) => {
    warningLogged = true;
  };

  // Create a sample PDF document with a page
  const pdfDocument = new PDFDocument({
    title: "Test PDF",
    author: "Test Author",
    creator: "Test Creator",
  });

  const page = pdfDocument.addPage();

  // Create and add an annotation
  const annotation = new Annotation();
  page.annotations.add(annotation);

  // Simulate printing
  await pdfDocument.print();

  // Verify no warning was logged
  if (warningLogged) {
    throw new Error("Warning was logged when printing with annotations");
  }
});