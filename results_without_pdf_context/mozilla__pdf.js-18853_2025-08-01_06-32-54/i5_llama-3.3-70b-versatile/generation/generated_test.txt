it("should restore extra line breaks when extracting text content from a text widget annotation", async () => {
  const { TextWidgetAnnotation } = await import("../../src/core/annotation.js");
  // Create a fake instance with only the needed properties.
  const annotation = Object.create(TextWidgetAnnotation.prototype);
  annotation.data = {
    // The text extractor originally produced textContent without the extra blank line.
    textContent: ["Line1", "Line2"],
    // But the actual field value contains an extra blank line.
    fieldValue: "Line1\n\nLine2",
  };
  // Call the new extractTextContent method.
  await annotation.extractTextContent({}, {}, {});
  // Now, after extraction, textContent should match fieldValue split by "\n".
  if (annotation.data.textContent.join("\n") !== annotation.data.fieldValue) {
    throw new Error("Extra line breaks were not correctly restored.");
  }
});