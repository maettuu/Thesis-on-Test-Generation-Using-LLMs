it("should display FreeText annotation with popup data", async () => {
  const { FreeTextAnnotationElement } = await import("../../src/display/annotation_layer.js");
  const parameters = {
    data: {
      id: "123",
      annotationType: 2,
      popupRef: null,
      titleObj: { str: "Title" },
      contentsObj: { str: "Contents" },
      richText: { str: "Rich Text" },
      textContent: ["Sample text"],
      textPosition: { x: 0, y: 0 },
      rect: [0, 0, 100, 100],
      borderStyle: { width: 1 },
    },
    layer: document.createElement("div"),
    linkService: {},
    downloadManager: {},
    imageResourcesPath: "",
    renderForms: false,
    svgFactory: {},
    annotationStorage: {},
    enableScripting: false,
    hasJSActions: false,
    fieldObjects: null,
    parent: { div: document.createElement("div"), zIndex: 0 },
  };
  const element = new FreeTextAnnotationElement(parameters);
  const rendered = element.render();
  const expected = true;
  const actual = rendered.querySelector(".popupAnnotation") !== null;
  expect(actual).toBe(expected);
});