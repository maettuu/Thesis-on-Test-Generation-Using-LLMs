it("should not block the UI when changing font size", async () => {
  const { AnnotationEditor } = await import("./editor.js");
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { PDFPageView } = await import("../../web/pdf_page_view.js");

  const uiManager = new AnnotationEditorUIManager();
  const pageView = new PDFPageView();
  const editor = new (class extends AnnotationEditor {
    constructor() {
      super({ parent: pageView, id: 1, uiManager });
    }
  })();

  const moveInDOMSpy = jest.spyOn(editor, "moveInDOM");
  const setTimeoutSpy = jest.spyOn(global, "setTimeout");

  editor.moveInDOM();
  expect(setTimeoutSpy).toHaveBeenCalledTimes(1);
  expect(moveInDOMSpy).not.toHaveBeenCalled();

  jest.runOnlyPendingTimers();
  expect(moveInDOMSpy).toHaveBeenCalledTimes(1);
});