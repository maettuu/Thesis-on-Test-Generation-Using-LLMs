it("should allow smooth font size changes via slider", async () => {
  const { AnnotationEditor } = await import("../../src/display/editor/editor.js");
  const { XFAFactory } = await import("../../src/core/xfa/factory.js");

  class MockParent {
    moveEditorInDOM = jest.fn();
  }

  const editor = new AnnotationEditor(new XFAFactory(), new MockParent());

  // Simulate font size change using slider
  editor.fontSize = 20;

  // The patch introduces a timeout of 0ms, so we need to wait for it
  await new Promise(resolve => setTimeout(resolve, 0));

  expect(MockParent.prototype.moveEditorInDOM).toHaveBeenCalled();
});