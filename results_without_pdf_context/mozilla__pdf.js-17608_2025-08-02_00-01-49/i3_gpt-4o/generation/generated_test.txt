it("should allow missing downloadManager in AnnotationLayerParameters", async () => {
  const { AnnotationLayer } = await import("../../src/display/annotation_layer.js");
  const { AnnotationStorage } = await import("../../src/display/annotation_storage.js");
  const { AnnotationType } = await import("../../src/shared/util.js");
  // Create a dummy container (assumes a DOM-like environment, e.g. jsdom in Node.js tests)
  const container = document.createElement("div");
  // Create a dummy file attachment annotation – note the absence of downloadManager.
  const fileAttachmentAnnotation = {
    id: "file1",
    annotationType: AnnotationType.FILE_ATTACHMENT,
    rect: [10, 10, 50, 50],
    file: { filename: "dummy.txt", content: new Uint8Array([1, 2, 3]) }
  };
  const annotationLayerParameters = {
    annotations: [fileAttachmentAnnotation],
    page: { rotate: 0, view: [0, 0, 100, 100] },
    linkService: {},
    annotationStorage: new AnnotationStorage()
    // downloadManager is intentionally not provided.
  };
  // Render the annotation layer. This should complete without error in the post‐patch code.
  AnnotationLayer.render({ container, ...annotationLayerParameters });
  // Ensure that at least one element is rendered.
  const renderedElement = container.querySelector("a,div");
  if (!renderedElement) {
    throw new Error("Annotation element not rendered when downloadManager is missing.");
  }
});