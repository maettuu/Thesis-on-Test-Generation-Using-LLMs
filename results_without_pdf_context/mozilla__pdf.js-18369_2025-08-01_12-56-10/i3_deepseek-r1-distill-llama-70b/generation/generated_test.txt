it("should correctly render vertical Japanese punctuation", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { DefaultFileReaderFactory } = await import("../../src/core/file_reader.js");
  const { getVerticalPresentationForm } = await import("../../src/core/fonts_utils.js");

  const fileReader = new DefaultFileReaderFactory();
  const pdfPath = `${TEST_PDFS_PATH}/vertical-punctuation.pdf`;
  const loadingTask = getDocument({
    fileLoader: () => fileReader.createFetcher(pdfPath),
    cMapLoader: () => new CMAP_URL.Loader(),
  });

  try {
    const pdfDocument = await loadingTask.promise;
    const pdfPage = await pdfDocument.getPage(1);
    const textContent = await pdfPage.getTextContent();
    const textItems = await textContent.items();

    const expectedVerticalPunctuation = "。、";
    const actualText = textItems.map(item => item.str).join("");

    expect(actualText).toContain(expectedVerticalPunctuation);
  } catch (error) {
    throw new Error(`Failed to load or process PDF: ${error.message}`);
  }
});