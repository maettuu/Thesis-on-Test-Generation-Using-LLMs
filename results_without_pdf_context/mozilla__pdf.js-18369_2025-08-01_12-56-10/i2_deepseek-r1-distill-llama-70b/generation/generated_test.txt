it("should use vertical presentation forms for punctuation when font is missing", async () => {
  const { Font } = await import("../../src/core/fonts.js");
  const { getVerticalPresentationForm } = await import("../../src/core/fonts_utils.js");

  const fontProperties = {
    missingFile: true,
    vertical: true,
    isType3Font: false,
  };

  const font = new Font("Missing Font", null, fontProperties);

  const expected = {
    0x3001: String.fromCharCode(0xfe11),
    0x3002: String.fromCharCode(0xfe12),
  };

  // Test IDEOGRAPHIC COMMA (、)
  const glyph1 = font._charToGlyph(0x3001);
  // Test IDEOGRAPHIC FULL STOP (。)
  const glyph2 = font._charToGlyph(0x3002);

  assert.strictEqual(glyph1.fontChar, expected[0x3001]);
  assert.strictEqual(glyph2.fontChar, expected[0x3002]);
});