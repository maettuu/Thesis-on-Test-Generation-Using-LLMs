it("should render Japanese vertical punctuation correctly in Firefox", async () => {
  const { PDFDocumentProxy, PDFPageProxy, PDFWorkerUtil } = await import("../../src/display/api.js");
  const { createTemporaryNodeServer, DefaultFileReaderFactory, TEST_PDFS_PATH } = await import("./test_utils.js");
  const { PageViewport } = await import("../../src/display/display_utils.js");
  const url = `${TEST_PDFS_PATH}ncode.syosetu.com.pdf`;
  const server = createTemporaryNodeServer(url);
  const pdfDocument = await PDFDocumentProxy.load({ url: server.url, cMapUrl: CMAP_URL, cMapPacked: true }, null, DefaultFileReaderFactory);
  const pdfPage = await pdfDocument.getPage(1);
  const viewport = new PageViewport({ width: 1000, height: 1000 });
  const renderTask = pdfPage.render({ viewport, intent: 'display' });
  await renderTask.promise;
  const textContent = await pdfPage.getTextContent();
  const expectedText = "、。！？";
  const actualText = textContent.items.map(item => item.str).join('');
  expect(actualText).toContain(expectedText);
});