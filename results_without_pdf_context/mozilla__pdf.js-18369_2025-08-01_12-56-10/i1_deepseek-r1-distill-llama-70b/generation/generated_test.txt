it("should correctly render vertical Japanese punctuation", async () => {
  const { PDFDocumentProxy } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const pdfPath = `${TEST_PDFS_PATH}/vertical_punctuation.pdf`;

  const params = buildGetDocumentParams(pdfPath, WORKER_SRC);
  const document = await PDFDocumentLoadingTask.create(params).promise;
  const proxy = new PDFDocumentProxy(document);

  const page = await proxy.getPage(1);
  const text = await page.getTextContent();

  // Check for vertical punctuation like、。、「」 etc.
  const expectedPunctuation = [",", "。", "「", "」"];
  const hasVerticalPunctuation = expectedPunctuation.every(p => text.items.some(item => item.str.includes(p)));

  expect(hasVerticalPunctuation).toBe(true);
});