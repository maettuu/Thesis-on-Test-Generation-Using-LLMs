```javascript
it("should handle slow rendering of a PDF with a lot of pages", async () => {
  const { MessageHandler, LoopbackPort } = await import("../../src/shared/message_handler.js");
  const port = new LoopbackPort();
  const messageHandler = new MessageHandler("source", "target", port);
  const largePdfData = new Uint8Array(1024 * 1024 * 10); // 10MB
  const actionHandler = jest.fn();
  messageHandler.on("renderPdf", actionHandler);
  port.postMessage({
    sourceName: "target",
    targetName: "source",
    action: "renderPdf",
    data: largePdfData,
  });
  await new Promise(resolve => setTimeout(resolve, 100));
  expect(actionHandler).toHaveBeenCalledTimes(1);
  expect(actionHandler).toHaveBeenCalledWith(largePdfData);
});
```