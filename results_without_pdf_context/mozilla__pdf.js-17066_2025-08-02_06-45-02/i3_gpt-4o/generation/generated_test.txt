it("should render readonly form field when AnnotationMode is ENABLED", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const loadingTask = getDocument(buildGetDocumentParams("simple-form-readonly.pdf"));
  const pdfDocument = await loadingTask.promise;
  const page = await pdfDocument.getPage(1);
  const viewport = page.getViewport({ scale: 1 });
  const annotationLayer = await page.getAnnotations({ intent: "display" });

  const renderTask = page.render({
    canvasContext: new DefaultCanvasFactory().create(viewport.width, viewport.height).context,
    viewport,
    annotationMode: AnnotationMode.ENABLED,
  });
  await renderTask.promise;

  const textWidget = annotationLayer.find(
    annotation => annotation.annotationType === AnnotationType.WIDGET && annotation.fieldType === "Tx"
  );

  expect(textWidget).toBeDefined();
  expect(textWidget.fieldValue).toBe("Foo");
});