it("should include emojis in PDF appearance streams", async () => {
  const { FakeUnicodeFont } = await import("../../src/core/default_appearance.js");
  const xref = new XRefMock();
  const annotation = new FreeTextAnnotation({
    xref,
    dict: new Dict(),
    annotationType: AnnotationType.FREETEXT,
    contents: new StringStream("ðŸ‘‹ Emoji Test"),
    rectangle: [0, 0, 100, 100],
    rotation: 0,
    evaluatorOptions: {},
  });

  const appearanceStream = annotation.appearance;
  const appearanceData = await appearanceStream.getString();

  // Check if the emoji Unicode is present in the appearance stream
  const expectedEmojiCode = String.fromCodePoint(0x1F44B).replace(/\uE000/g, "");
  expect(appearanceData).toContain(expectedEmojiCode);
});