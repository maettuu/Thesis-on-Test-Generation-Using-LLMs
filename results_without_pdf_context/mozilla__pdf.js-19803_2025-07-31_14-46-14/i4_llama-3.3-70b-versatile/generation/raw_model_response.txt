it("should fix the bug with circular references in Form XObjects", async () => {
  const { AnnotationFactory, Annotation, AnnotationBorderStyle, AnnotationWidget, ButtonWidgetAnnotation, ChoiceWidgetAnnotation, SignatureWidgetAnnotation, TextAnnotation, LinkAnnotation, PopupAnnotation, FreeTextAnnotation, LineAnnotation, SquareAnnotation, CircleAnnotation, PolylineAnnotation, InkAnnotation, HighlightAnnotation, UnderlineAnnotation, SquigglyAnnotation, StrikeOutAnnotation, StampAnnotation, FileAttachmentAnnotation } = await import("../../src/core/annotation.js");
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { Page } = await import("../../src/core/document.js");
  const { Dict, Ref, RefSet, RefSetCache } = await import("../../src/core/primitives.js");
  const { getInheritableProperty, getNewAnnotationsMap, getFontNameToFileMap, getStandardFontName, getSerifFonts, getSymbolsFonts } = await import("../../src/core/core_utils.js");
  const { getFontSubstitution } = await import("../../src/core/font_substitutions.js");
  const { getMetrics } = await import("../../src/core/metrics.js");
  const { getUnicodeForGlyph } = await import("../../src/core/unicode.js");
  const { getGlyphsUnicode } = await import("../../src/core/glyphlist.js");
  const { getEncoding } = await import("../../src/core/encodings.js");
  const { getStandardFontName } = await import("../../src/core/standard_fonts.js");
  const { getSymbolsFonts } = await import("../../src/core/symbols.js");
  const { getSerifFonts } = await import("../../src/core/symbols.js");
  const { getFontNameToFileMap } = await import("../../src/core/standard_fonts.js");
  const { getBaseFontMetrics } = await import("../../src/core/metrics.js");
  const { getMetrics } = await import("../../src/core/metrics.js");
  const { getUnicodeForGlyph } = await import("../../src/core/unicode.js");
  const { getGlyphsUnicode } = await import("../../src/core/glyphlist.js");
  const { getEncoding } = await import("../../src/core/encodings.js");
  const { getStandardFontName } = await import("../../src/core/standard_fonts.js");
  const { getSymbolsFonts } = await import("../../src/core/symbols.js");
  const { getSerifFonts } = await import("../../src/core/symbols.js");
  const { getFontNameToFileMap } = await import("../../src/core/standard_fonts.js");
  const { getBaseFontMetrics } = await import("../../src/core/metrics.js");
  const { getMetrics } = await import("../../src/core/metrics.js");
  const { getUnicodeForGlyph } = await import("../../src/core/unicode.js");
  const { getGlyphsUnicode } = await import("../../src/core/glyphlist.js");
  const { getEncoding } = await import("../../src/core/encodings.js");
  const { getStandardFontName } = await import("../../src/core/standard_fonts.js");
  const { getSymbolsFonts } = await import("../../src/core/symbols.js");
  const { getSerifFonts } = await import("../../src/core/symbols.js");
  const { getFontNameToFileMap } = await import("../../src/core/standard_fonts.js");
  const { getBaseFontMetrics }