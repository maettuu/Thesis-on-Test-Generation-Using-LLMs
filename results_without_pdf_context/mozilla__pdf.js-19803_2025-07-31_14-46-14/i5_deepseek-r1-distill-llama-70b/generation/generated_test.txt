it("should throw on circular Form XObjects", async () => {
  const { PDFDocument } = await import("../../web/pdf_document.js");
  const { fetch } = await import("node-fetch");
  const { TEST_PDFS_PATH } = await import("./test_utils.js");

  jest.setTimeout(10000);

  const pdfPath = `${TEST_PDFS_PATH}/evil_xobjects.pdf`;
  try {
    await PDFDocument.load(await fetch(pdfPath).then(res => res.blob()));
    throw new Error("Expected circular reference error");
  } catch (error) {
    expect(error.message).toContain("ignoring circular reference");
  }
});