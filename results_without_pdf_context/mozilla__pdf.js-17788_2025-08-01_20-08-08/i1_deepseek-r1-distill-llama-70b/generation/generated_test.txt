it("should expose highlighted text to screen readers", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const pdf = await build({
    url: "test.pdf",
    cMapUrl: "https://cdn.jsdelivr.net/npm/pdfjs-dist@2.7.570/build/generic/web/cmaps/",
    workerSrc: "../../src/worker.js",
  });
  const page = await pdf.getPage(1);
  const textLayer = await page.getTextContent();

  const container = document.createElement("div");
  const editorUI = new AnnotationEditorUIManager(
    container,
    null,
    null,
    null,
    pdf,
    null,
    null,
    null
  );

  editorUI.highlightSelection();

  const selection = document.getSelection();
  const markElement = container.querySelector(".visuallyHidden");

  expect(markElement).toBeTruthy();
  expect(markElement.textContent).toBe("highlighted text");
});