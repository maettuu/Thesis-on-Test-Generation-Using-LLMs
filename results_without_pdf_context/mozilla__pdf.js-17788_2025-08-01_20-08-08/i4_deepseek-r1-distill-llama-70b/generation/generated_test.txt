it("should expose highlighted text to screen readers", async () => {
  const { HighlightEditor } = await import("../../src/display/editor/highlight.js");
  const { DrawLayer } = await import("../../src/display/draw_layer.js");

  // Setup DOM
  const container = document.createElement("div");
  const textLayer = document.createElement("div");
  textLayer.className = "textLayer";
  container.appendChild(textLayer);

  // Setup editor
  const editor = new HighlightEditor({
    anchorNode: document.createElement("div"),
    anchorOffset: 0,
    focusNode: document.createElement("div"),
    focusNode: 0,
    boxes: [{ x: 0, y: 0, width: 1, height: 1 }],
    text: "Highlighted text"
  });

  // Render editor
  const div = editor.render();
  container.appendChild(div);

  // Verify ARIA attributes and content
  const mark = div.querySelector("mark.visuallyHidden");
  const svg = div.querySelector("svg");

  expect(mark).toBeTruthy();
  expect(mark.textContent).toBe("Highlighted text");
  expect(svg.getAttribute("aria-hidden")).toBe("true");
});