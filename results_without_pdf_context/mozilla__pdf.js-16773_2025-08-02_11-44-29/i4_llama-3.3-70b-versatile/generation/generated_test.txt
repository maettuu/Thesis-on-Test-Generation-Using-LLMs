it("should only allow supported image types when selecting an image in the stamp annotation", async () => {
  const { StampEditor } = await import("./stamp.js");
  const { AnnotationEditorType } = await import("../../shared/util.js");
  const input = document.createElement("input");
  input.type = "file";
  const editor = new StampEditor({ type: AnnotationEditorType.STAMP });
  const file = new File(["invalid image"], "invalid.txt", { type: "text/plain" });
  const files = [file];
  const changeEvent = new Event("change");
  Object.defineProperty(input, "files", { value: files });
  input.dispatchEvent(changeEvent);
  await new Promise(resolve => setTimeout(resolve, 0));
  expect(editor.isEmpty()).toBe(true);
});