it("should support highlighting images of text", async () => {
  const { DrawLayer } = await import("../../src/display/draw_layer.js");
  const { AnnotationEditorLayer } = await import("../../src/display/editor/annotation_editor_layer.js");
  const { Outliner } = await import("../../src/display/editor/outliner.js");

  const viewport = {
    rawDims: { pageWidth: 1000, pageHeight: 1000 },
    scale: 1,
  };

  const drawLayer = new DrawLayer({ pageIndex: 0 });
  const parent = new AnnotationEditorLayer(viewport);

  const mockEvent = {
    target: {
      getBoundingClientRect: () => ({
        x: 0,
        y: 0,
        width: 1000,
        height: 1000,
      }),
    },
  };

  const outliner = new Outliner();
  outliner.add({ x: 100, y: 100 });
  outliner.add({ x: 200, y: 200 });

  const highlightId = parent.drawLayer.highlight(
    outliner,
    "#ff0000",
    0.5,
    true
  );

  expect(highlightId).not.toBe(-1);
  const path = parent.drawLayer.svg.querySelector(`[id="${highlightId}"] path`);
  expect(path.getAttribute("d")).toBeTruthy();
});