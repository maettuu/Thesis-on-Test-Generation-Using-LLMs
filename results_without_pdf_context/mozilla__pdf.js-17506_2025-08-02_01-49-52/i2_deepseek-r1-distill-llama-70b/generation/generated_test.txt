it("should create a free highlight when drawing over nontext areas", async () => {
  const { HighlightEditor, AnnotationEditorType } = await import("../../display/editor/highlight.js");
  const { DrawLayer } = await import("../../display/draw_layer.js");
  const { AnnotationEditorLayer } = await import("../../display/editor/annotation_editor_layer.js");
  const { Util } = await import("../../shared/util.js");

  // Initialize dependencies
  const drawLayer = new DrawLayer({ pageIndex: 0 });
  const parent = {
    drawLayer,
    getNextId: () => 1,
    add: () => {},
    viewport: { rawDims: { pageWidth: 100, pageHeight: 100 }, rotation: 0 }
  };

  // Simulate a pointer event
  const event = {
    offsetX: 50,
    offsetY: 50,
    preventDefault: () => {}
  };

  // Create editor
  const editor = new HighlightEditor({
    parent,
    event,
    isCentered: false,
    uiManager: { getMode: () => AnnotationEditorType.HIGHLIGHT }
  });

  // Verify editor was created and added
  expect(editor).toBeDefined();
  expect(drawLayer.highlight).toHaveBeenCalled();
});