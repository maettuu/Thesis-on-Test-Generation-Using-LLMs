it("should correctly render HelveticaLTStd fonts with fallback", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const { pdfjsLib } = await import("../../src/display/node_utils.js");

  // Load the sample PDF with HelveticaLTStd fonts
  const pdfBytes = await fetch("/tmp/Tax3921.pdf").then(res => res.arrayBuffer());
  const pdf = await PDFDocument.load(pdfBytes, { useWorker: false });

  // Render first page and extract text
  const page = await pdf.getPage(1);
  const textContent = await page.getTextContent();
  const text = textContent.items.map(item => item.str).join("");

  // Expected text from the rendered page
  const expectedText = "If you";

  // Check if the expected text is present
  if (!text.includes(expectedText)) {
    throw new Error("Font fallback did not work, text not rendered");
  }
});