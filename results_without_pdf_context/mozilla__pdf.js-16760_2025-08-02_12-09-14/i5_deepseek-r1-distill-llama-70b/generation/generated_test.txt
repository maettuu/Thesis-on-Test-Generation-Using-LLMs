it("should correctly parse polyglot PDF with MP content", async () => {
  const { XRefMock, buildGetDocumentParams } = await import("./test_utils.js");
  const { InvalidPDFException } = await import("../../src/shared/util.js");

  // Create a mock XRef with the sample data that caused the issue
  const xrefMock = new XRefMock();
  xrefMock.addTrailer();
  xrefMock.addMP3Data();

  // Attempt to parse the XRef
  const params = buildGetDocumentParams(xrefMock);
  const xref = new XRef(params);

  // The test passes if no exception is thrown
  await expect(xref.load()).resolves.not.toThrow(InvalidPDFException);
});