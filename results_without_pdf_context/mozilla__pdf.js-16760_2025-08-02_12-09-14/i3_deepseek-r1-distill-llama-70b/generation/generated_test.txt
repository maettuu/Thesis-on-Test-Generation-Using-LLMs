it("should correctly parse and render PDFs with nonstandard trailer structures", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const pdfPath = `${TEST_PDFS_PATH}/issue16759.pdf`;

  try {
    const pdfDoc = await getDocument({
      url: pdfPath,
      factory: new DefaultFileReaderFactory(new FetchStream()),
      onPassword: () => PasswordResponses.CANCEL
    });
    const firstPage = await pdfDoc.getPage(1);
    assert(firstPage, "PDF page could not be loaded");
  } catch (error) {
    if (error instanceof InvalidPDFException) {
      throw new Error("PDF is still invalid after patch");
    }
    throw error;
  }
});