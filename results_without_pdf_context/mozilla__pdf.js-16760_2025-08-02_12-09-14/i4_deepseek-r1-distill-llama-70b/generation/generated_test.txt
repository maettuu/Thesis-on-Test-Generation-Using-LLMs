it("should correctly parse PDF with nontraditional trailer structure", async () => {
  const { XRef } = await import("../../src/core/xref.js");
  const { PDFDocument } = await import("../../src/core/document.js");
  const pdfManager = {
    password: null,
    requestRange: async (begin, end) => {
      return new Uint8Array();
    },
  };

  const pdfData = new Uint8Array(await fetch("https://github.com/mozilla/pdf.js/files/12185373/issue16759.pdf").then(res => res.arrayBuffer()));

  await expect(
    PDFDocument.load({
      data: pdfData,
      xref: new XRef({
        getByte: () => 0,
        getBytes: () => new Uint8Array(),
        makeSubStream: () => ({ getByte: () => 0, getBytes: () => new Uint8Array() }),
        pos: 0,
        start: 0,
      }, pdfManager),
      pdfManager,
    })
  ).resolves.not.toThrow(XRefParseException);
});