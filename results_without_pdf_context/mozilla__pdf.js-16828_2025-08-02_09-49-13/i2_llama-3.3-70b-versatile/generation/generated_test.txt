it("should create a new stamp editor when pasting an image from the clipboard", async () => {
  const { AnnotationEditorUIManager, AnnotationEditorLayer, StampEditor } = await import("../../src/display/editor/tools.js");
  const { AnnotationEditorType } = await import("../../shared/util.js");
  const { document } = globalThis;

  const uiManager = new AnnotationEditorUIManager(null, null, null, null, null);
  const layer = new AnnotationEditorLayer({
    uiManager,
    pageIndex: 0,
    div: document.createElement("div"),
    accessibilityManager: null,
    annotationLayer: null,
    viewport: { rotation: 0, width: 100, height: 100 },
    l10n: null,
  });

  const clipboardData = {
    items: [
      {
        type: "image/png",
        getAsFile: () => new File(["image_data"], "image.png", { type: "image/png" }),
      },
    ],
  };

  const event = { clipboardData, preventDefault: () => {} };

  uiManager.paste(event);

  const newEditor = layer.editors.get(Array.from(layer.editors.keys())[0]);

  expect(newEditor).toBeInstanceOf(StampEditor);
});