it("should support pasting an image from the clipboard", async () => {
  const { AnnotationEditorLayer, AnnotationEditorUIManager, AnnotationEditorType } = await import("../../src/display/editor/annotation_editor_layer.js");
  const { StampEditor } = await import("../../src/display/editor/stamp.js");
  const { Util } = await import("../../src/shared/util.js");

  const editorLayer = new AnnotationEditorLayer();
  const uiManager = new AnnotationEditorUIManager();
  uiManager.currentLayer = editorLayer;

  const file = new File(['image data'], 'image.png', { type: 'image/png' });
  const clipboardData = { items: [{ kind: 'file', type: 'image/png', getAsFile: () => file }] };
  const event = { preventDefault: () => {}, clipboardData };

  const initialEditors = editorLayer.editors;

  uiManager.paste(event);

  const newEditor = editorLayer.editors.find(editor => editor instanceof StampEditor);
  const expectedType = AnnotationEditorType.STAMP;

  expect(newEditor.constructor.name).toBe('StampEditor');
  expect(editorLayer.editors.length).toBe(initialEditors.length + 1);
});