```javascript
it("should use ImageDecoder for JPEG images when supported", async () => {
  const { JpegStream } = await import("../../src/core/jpeg_stream.js");
  const { shadow } = await import("../../src/shared/util.js");

  const mockStream = {
    getBytes: () => new Uint8Array([0xff, 0xd8, 0xff, 0xe0, 0x00, 0x10]),
    dict: {
      getArray: () => null,
    },
    isAsync: false,
  };

  const jpegStream = new JpegStream(mockStream, null, null);
  const canUseImageDecoder = await JpegStream.canUseImageDecoder;
  const transferableImage = await jpegStream.getTransferableImage();

  if (canUseImageDecoder) {
    expect(transferableImage).not.toBeNull();
  } else {
    expect(transferableImage).toBeNull();
  }
});
```