it("should decode cmyk jpeg image using ImageDecoder", async () => {
  const { JpegStream } = await import("../../src/core/jpeg_stream.js");
  const { JpegImage } = await import("../../src/core/jpg.js");
  const cmykJpegData = new Uint8Array([0xff, 0xd8, 0xff, 0xe0, 0x00, 0x10, 0x4a, 0x46, 0x49, 0x46, 0x00, 0x01, 0x01, 0x00, 0x00, 0x60, 0x00, 0x60, 0x00, 0x00, 0xff, 0xe1, 0x12, 0x4c, 0x45, 0x78, 0x69, 0x66, 0x00, 0x00, 0x4d, 0x4d, 0x00, 0x2a, 0x00, 0x00, 0x00, 0x08, 0x00, 0x02, 0x01, 0x1c, 0x00, 0x02]);
  const useImageDecoder = { cmyk: true };
  const stream = new JpegStream(cmykJpegData, useImageDecoder);
  const decoder = await stream.getDecoder();
  const expectedType = "image/x-jpeg-pdf";
  expect(decoder.type).toBe(expectedType);
});