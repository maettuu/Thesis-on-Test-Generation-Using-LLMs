it("should decode CMYK JPEG images using ImageDecoder", async () => {
  const { TestPdfsServer } = await import("./test_utils.js");
  const server = new TestPdfsServer();
  try {
    await server.start();
    const pdfPath = `${TEST_PDFS_PATH}/cmyk_jpeg.pdf`;
    const { pdfDocument } = await getDocument({
      url: pdfPath,
      transport: new PDFDataRangeTransport({
        fetch: fetchDataDOM,
        url: pdfPath,
        httpHeaders: {
          "X-Pdf-Web-Api-BaseVersion": "1",
          "X-Pdf-Web-Api-ViewerVersion": "1.10.100",
        },
      }),
    });
    const pdfPage = await pdfDocument.getPage(1);
    const viewport = PageViewport.fromDimensions(100, 100);
    const renderTask = RenderTask.fromPDFPage({
      pdfPage,
      viewport,
      renderInteractive: false,
    });
    await renderTask.run();
    expect(renderTask.status).toBe("completed");
  } finally {
    await server.stop();
    server.close();
  }
});