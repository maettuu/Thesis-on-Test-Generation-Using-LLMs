it("should render polygon annotation with fill color", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const { PDFPage } = await import("../../src/display/pdf_page.js");
  const { PDFJS } = await import("../../src/display/pdf_viewer.js");
  const { document } = await import("./document.pdf");

  // Mock DOM for PDF.js rendering
  const dom = {
    createSVGElement: () => ({ outerHTML: "" }),
    createElement: () => ({}),
    getElementById: () => ({}),
  };

  // Initialize PDF.js with mock DOM
  PDFJS.setDocument(document);
  const pdf = await PDFDocument.load(document);
  const page = await pdf.getPage(1);
  const svg = await page.render({
    format: "svg",
    canvas: null,
    viewport: page.getViewport({ scale: 1 }),
  });

  // Check if SVG contains both fill and stroke attributes
  const hasFill = svg.outerHTML.includes("fill=");
  const hasStroke = svg.outerHTML.includes("stroke=");

  expect(hasFill && hasStroke).toBe(true);
});