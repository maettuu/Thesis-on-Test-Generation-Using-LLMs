it("should render PolygonAnnotation with both outline and fill color", async () => {
  const { AnnotationFactory } = await import("../../src/core/annotation.js");
  const { Dict, Name } = await import("../../src/core/primitives.js");
  const { RenderingIntentFlag } = await import("../../src/shared/util.js");

  const dict = new Dict();
  dict.set("Type", Name.get("Annot"));
  dict.set("Subtype", Name.get("Polygon"));
  dict.set("Vertices", [0, 0, 100, 0, 100, 100, 0, 100]);
  dict.set("IC", [0.5, 0.5, 0.5]); // Fill color
  dict.set("CA", 1); // Stroke alpha
  dict.set("C", [0, 0, 0]); // Stroke color

  const annotation = AnnotationFactory.create({
    dict,
    xref: null,
    id: "test",
    subtype: Name.get("Polygon"),
  });

  const operatorList = {
    addOp: jest.fn(),
  };

  await annotation.getOperatorList(operatorList, RenderingIntentFlag.DISPLAY);

  const expectedFillOperator = operatorList.addOp.mock.calls.some(
    ([op]) => op === "B"
  );

  expect(expectedFillOperator).toBe(true);
});