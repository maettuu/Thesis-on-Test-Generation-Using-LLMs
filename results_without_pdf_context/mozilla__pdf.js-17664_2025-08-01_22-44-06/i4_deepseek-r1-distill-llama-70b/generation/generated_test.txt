it("should not lag behind mouse cursor with free highlighting", async () => {
  const { FreeOutliner, HighlightOutline } = await import("../../src/display/editor/outliner.js");
  const { Util } = await import("../../shared/util.js");

  const box = { x: 0, y: 0, width: 100, height: 100 };
  const options = { scaleFactor: 1, thickness: 1, isLTR: true, innerMargin: 0 };

  const outliner = new FreeOutliner({ x: 10, y: 10 }, box, options.scaleFactor, options.thickness, options.isLTR, options.innerMargin);
  outliner.add({ x: 20, y: 20 });
  outliner.add({ x: 30, y: 30 });
  outliner.add({ x: 40, y: 40 });

  const outlines = outliner.getOutlines();
  const expectedOutline = new Float64Array([
    0.3, 0.3, 0.5, 0.3, 0.5, 0.5, 0.3, 0.5, 0.3, 0.3,
    0.7, 0.3, 0.7, 0.5, 0.7, 0.7, 0.5, 0.7, 0.3, 0.7,
    0.3, 0.7, 0.3, 0.3, 0.5, 0.3, 0.7, 0.3, 0.7, 0.7
  ]);

  const actualOutline = outlines.outline;
  expect(actualOutline).toEqual(expectedOutline);
});