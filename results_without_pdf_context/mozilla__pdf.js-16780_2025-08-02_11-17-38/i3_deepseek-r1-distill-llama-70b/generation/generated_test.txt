it("should correctly resize SVG images", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const { createImageBitmap } = await import("../../src/display/canvas.js");

  const svgData = `<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>`;
  const svgUrl = `data:image/svg+xml;charset=UTF-8,${svgData}`;

  const imageManager = new ImageManager();
  const imageData = await imageManager.getFromUrl(svgUrl);

  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = 1;
  canvas.height = 3;

  const image = await createImageBitmap(imageData.bitmap);
  ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);

  const pixel = ctx.getImageData(0, 0, 1, 1).data;
  const isRed = pixel[0] === 255 && pixel[1] === 0 && pixel[2] === 0;

  expect(isRed).toBe(true);
});