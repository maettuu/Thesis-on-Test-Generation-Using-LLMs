it("should allow SVG images to be resized by modifying their URL", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const svgDataUrl = "data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>";
  const imageManager = new ImageManager();

  // Process the SVG image
  const image = await imageManager.getFromFile(new File([svgDataUrl], "image.svg", { type: "image/svg+xml" }));

  // Mock the _checkIfSVGFitsInCanvas function to return true
  const originalCheck = ImageManager._checkIfSVGFitsInCanvas;
  ImageManager._checkIfSVGFitsInCanvas = async () => true;

  // Get the processed SVG URL
  const svgUrl = imageManager.getSvgUrl(image.id);

  // Restore original function
  ImageManager._checkIfSVGFitsInCanvas = originalCheck;

  // The URL should include the preserveAspectRatio modification
  expect(svgUrl).toContain("#svgView(preserveAspectRatio(none))");
});