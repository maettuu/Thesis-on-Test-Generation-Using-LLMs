it("should resize SVG images correctly", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>`;
  const imageManager = new ImageManager();
  const image = new Image();

  // Simulate adding an SVG image
  imageManager.add(image, "test.svg");

  // Create canvas to test resizing
  const canvas = new OffscreenCanvas(1, 3);
  const ctx = canvas.getContext("2d");

  // Wait for image to load and be resized
  await new Promise(resolve => {
    image.onload = async () => {
      await setTimeout(() => {
        ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);
        resolve();
      }, 100);
    };
  });

  // Check if the image was resized correctly
  const pixels = ctx.getImageData(0, 0, 1, 1).data;
  expect(pixels[0]).not.toBe(255); // Red pixel changed after resize
});