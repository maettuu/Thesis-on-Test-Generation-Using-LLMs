it("should allow resizing of SVG images in pdfjs", async () => {
  const { AnnotationEditorUIManager, ImageManager } = await import("../../src/display/editor/tools.js");
  const { stringToBytes } = await import("../../src/shared/util.js");
  const { createIdFactory } = await import("./test_utils.js");

  const idFactory = createIdFactory();
  const imageManager = new ImageManager();
  const svgData = stringToBytes(`<svg width="100" height="100"><rect width="100" height="100" style="fill:red;"/></svg>`);
  const svgUrl = URL.createObjectURL(new Blob([svgData], { type: "image/svg+xml" }));

  const imageData = await imageManager.getFromUrl(svgUrl);
  const svgImage = imageData.bitmap;

  const annotationEditorUIManager = new AnnotationEditorUIManager({}, {}, {}, {});
  const imageManagerInstance = annotationEditorUIManager.imageManager;

  const mustRemoveAspectRatioPromise = await ImageManager._checkIfSVGFitsInCanvas();
  const newSvgUrl = mustRemoveAspectRatioPromise ? `${svgUrl}#svgView(preserveAspectRatio(none))` : svgUrl;

  const newImageData = await imageManagerInstance.getFromUrl(newSvgUrl);
  const newSvgImage = newImageData.bitmap;

  expect(newSvgImage.width).not.toBe(100);
  expect(newSvgImage.height).not.toBe(100);
});