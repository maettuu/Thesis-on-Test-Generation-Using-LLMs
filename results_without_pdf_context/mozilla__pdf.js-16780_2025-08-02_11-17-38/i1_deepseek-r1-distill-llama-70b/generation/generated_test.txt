it("should properly resize SVG images by removing aspect ratio preservation", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const { Util } = await import("../../shared/util.js");

  // Create a test SVG image
  const svgData = `<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg">
    <rect width="1" height="1" style="fill:red;"/>
  </svg>`;
  const svgUrl = `data:image/svg+xml;base64,${Util.stringToBytes(svgData).toString('base64')}`;

  // Create ImageManager instance
  const imageManager = new ImageManager();

  // Fetch the image through ImageManager
  const image = await imageManager.get(svgUrl);

  // Create a canvas to test resizing
  const canvas = new OffscreenCanvas(1, 3);
  const ctx = canvas.getContext('2d');

  // Draw the image on the canvas with resizing
  ctx.drawImage(image.bitmap, 0, 0, 1, 1, 0, 0, 1, 3);

  // Check if the image was resized correctly (red color at bottom)
  const imageData = new Uint32Array(ctx.getImageData(0, 0, 1, 3).data.buffer);
  const expectedColor = 0; // Transparent or resized red

  expect(imageData[0]).toBe(expectedColor);
});