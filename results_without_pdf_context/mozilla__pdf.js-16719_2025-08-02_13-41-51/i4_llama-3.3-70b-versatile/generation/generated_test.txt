it("should delete the selected element when pressing the Delete key", async () => {
  const { AnnotationEditorUIManager, AnnotationEditorLayer } = await import("../../src/display/editor/tools.js");
  const { PDFDocument, Page } = await import("../../src/core/document.js");
  const { AnnotationStorage } = await import("../../src/display/annotation_storage.js");
  const { PDFPageProxy } = await import("../../src/display/api.js");

  const pdfDocument = new PDFDocument({
    data: new Uint8Array(),
    fingerprint: "",
    length: 0,
    password: "",
    url: "",
  });

  const annotationStorage = new AnnotationStorage();
  const page = new Page({
    pdfDocument,
    pageIndex: 0,
    rotate: 0,
  });

  const annotationEditorLayer = new AnnotationEditorLayer({
    annotationStorage,
    page: new PDFPageProxy(page),
  });

  const annotationEditorUIManager = new AnnotationEditorUIManager({
    container: {},
    eventBus: {},
    pdfDocument,
    pageColors: {},
  });

  annotationEditorUIManager.addLayer(annotationEditorLayer);

  const editor = {
    id: "editor",
    pageIndex: 0,
    remove: jest.fn(),
  };

  annotationEditorUIManager.addEditor(editor);
  annotationEditorUIManager.setSelected(editor);

  annotationEditorUIManager.delete();

  expect(editor.remove).toHaveBeenCalledTimes(1);
});