it("should delete selected element when pressing Delete key on Mac", async () => {
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { CommandManager } = await import("../../src/display/editor/tools.js");
  const { KeyboardManager } = await import("../../src/display/editor/tools.js");

  const commandManager = {
    delete: jest.fn(),
  };

  const eventBus = {
    _on: jest.fn(),
  };

  const keyboardManager = new KeyboardManager([
    [
      ["Backspace", "alt+Backspace", "ctrl+Backspace", "shift+Backspace", "mac+Backspace", "mac+alt+Backspace", "mac+ctrl+Backspace", "Delete", "ctrl+Delete", "shift+Delete", "mac+Delete"],
      AnnotationEditorUIManager.prototype.delete,
    ],
  ]);

  const uiManager = new AnnotationEditorUIManager(null, eventBus, null, null);
  uiManager.#commandManager = commandManager;
  uiManager.#keyboardManager = keyboardManager;

  const event = {
    key: "Delete",
    metaKey: true,
    preventDefault: jest.fn(),
  };

  uiManager.keydown(event);

  expect(commandManager.delete).toHaveBeenCalled();
});