it("should delete selected element when Delete key is pressed on macOS", async () => {
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { Util } = await import("../../shared/util.js");

  class MockEditor {
    constructor() {
      this.id = "test-editor";
      this.isEmpty = jest.fn().mockReturnValue(false);
      this.select = jest.fn();
      this.unselect = jest.fn();
      this.remove = jest.fn();
    }
  }

  const uiManager = new AnnotationEditorUIManager({
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
  }, {}, {}, {});

  const editor = new MockEditor();
  uiManager.addEditor(editor);
  uiManager.setSelected(editor);

  const deleteSpy = jest.fn();
  uiManager.delete = deleteSpy;

  const event = {
    key: "Delete",
    preventDefault: jest.fn(),
    stopPropagation: jest.fn(),
  };

  uiManager.keydown(event);

  expect(deleteSpy).toHaveBeenCalled();
});