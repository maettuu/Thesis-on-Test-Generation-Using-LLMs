it("should delete selected annotation when Delete key is pressed on macOS", async () => {
  const { AnnotationFactory, AnnotationStorage, AnnotationEditorUIManager, EventBus } = await import("../../src/display/editor/tools.js");
  const annotation = AnnotationFactory.create(AnnotationType.MARKUP, {
    subtype: "Highlight",
    content: "Test annotation",
  });
  const storage = new AnnotationStorage();
  storage.add(annotation);
  const eventBus = new EventBus();
  const pdfDocument = {
    annotationStorage: storage,
    filterFactory: {},
  };
  const container = {};
  const pageColors = {};

  const uiManager = new AnnotationEditorUIManager(container, eventBus, pdfDocument, pageColors);

  const event = { key: "Delete", metaKey: true };
  eventBus._on("keydown", (e) => uiManager.keydown(e));

  eventBus.dispatch("keydown", event);

  expect(storage.getAnnotations().length).toBe(0);
});