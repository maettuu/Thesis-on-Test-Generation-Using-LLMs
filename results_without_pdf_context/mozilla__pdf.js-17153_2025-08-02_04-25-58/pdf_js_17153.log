[2025-08-02 04:25:58] MARKER   : =============== Running Payload #17153 ===============
[2025-08-02 04:25:58] MARKER   : ================ Preparing Environment ===============
[2025-08-02 04:25:58] SUCCESS  : Linked GitHub issue #15728 fetched successfully
[2025-08-02 04:26:00] WARNING  : No PDF file available
[2025-08-02 04:26:00] INFO     : Cloning repository https://github.com/mozilla/pdf.js.git
[2025-08-02 04:26:11] SUCCESS  : Cloning successful
[2025-08-02 04:26:11] INFO     : Fetching test file for injection...
[2025-08-02 04:26:12] SUCCESS  : Test file test/unit/util_spec.js fetched successfully
[2025-08-02 04:26:13] WARNING  : No existing image 'image_mozilla__pdf.js-17153' found
[2025-08-02 04:26:13] INFO     : Building from scratch based on commit 238f3e728f1f4c0b4acc58e7a3560573816610a8
[2025-08-02 04:31:45] SUCCESS  : Docker image 'image_mozilla__pdf.js-17153' built successfully
[2025-08-02 04:31:45] MARKER   : ================ Preparation Complete ================
[2025-08-02 04:31:45] MARKER   : Attempt 1 with model gpt-4o
[2025-08-02 04:31:45] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:31:45] INFO     : Querying LLM...
[2025-08-02 04:31:48] INFO     : HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:31:48] SUCCESS  : LLM response received
[2025-08-02 04:31:48] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:31:48] INFO     : Creating container...
[2025-08-02 04:31:55] SUCCESS  : Container fe486d63da86 started
[2025-08-02 04:31:55] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:31:55] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:31:55] INFO     : Running test command...
[2025-08-02 04:32:30] SUCCESS  : Test command executed
[2025-08-02 04:32:30] FAIL     : Test evaluated as failed
[2025-08-02 04:32:30] WARNING  : Stopping and removing container...
[2025-08-02 04:32:41] SUCCESS  : Container stopped and removed
[2025-08-02 04:32:41] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:32:41] INFO     : Creating container...
[2025-08-02 04:32:43] SUCCESS  : Container 21372bb576a6 started
[2025-08-02 04:32:43] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:32:43] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:32:43] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:32:43] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:32:43] INFO     : Running test command...
[2025-08-02 04:33:18] SUCCESS  : Test command executed
[2025-08-02 04:33:18] INFO     : Test evaluated as passed
[2025-08-02 04:33:18] WARNING  : Stopping and removing container...
[2025-08-02 04:33:29] SUCCESS  : Container stopped and removed
[2025-08-02 04:33:29] SUCCESS  : Fail-to-Pass test generated
[2025-08-02 04:33:29] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should handle missing navigatorplatform without error", async () => {
  const { FeatureTest } = await import("../../src/shared/util.js");
  const originalNavigator = global.navigator;
  global.navigator = { userAgent: "Mozilla/5.0" }; // Mock navigator without platform
  const expected = { isMac: false };
  const actual = FeatureTest.platform;
  global.navigator = originalNavigator; // Restore original navigator
  expect(actual).toEqual(expected);
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/util_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-02 04:33:29] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:33:29] SUCCESS  : Attempt 1 with model gpt-4o finished successfully
[2025-08-02 04:33:29] SUCCESS  : Test file copied to generated_tests/pdf_js_17153_i1_gpt-4o.txt
[2025-08-02 04:33:29] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:33:29] MARKER   : Attempt 1 with model llama-3.3-70b-versatile
[2025-08-02 04:33:29] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:33:29] INFO     : Querying LLM...
[2025-08-02 04:33:30] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:33:30] SUCCESS  : LLM response received
[2025-08-02 04:33:30] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:33:30] INFO     : Creating container...
[2025-08-02 04:33:32] SUCCESS  : Container e21174d6e024 started
[2025-08-02 04:33:32] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:33:32] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:33:32] INFO     : Running test command...
[2025-08-02 04:34:05] SUCCESS  : Test command executed
[2025-08-02 04:34:05] INFO     : Test evaluated as passed
[2025-08-02 04:34:05] WARNING  : Stopping and removing container...
[2025-08-02 04:34:16] SUCCESS  : Container stopped and removed
[2025-08-02 04:34:16] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:34:16] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:34:16] SUCCESS  : Attempt 1 with model llama-3.3-70b-versatile finished successfully
[2025-08-02 04:34:16] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:34:16] MARKER   : Attempt 2 with model llama-3.3-70b-versatile
[2025-08-02 04:34:16] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:34:16] INFO     : Querying LLM...
[2025-08-02 04:34:17] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:34:17] SUCCESS  : LLM response received
[2025-08-02 04:34:17] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:34:17] INFO     : Creating container...
[2025-08-02 04:34:18] SUCCESS  : Container 873e7db6d616 started
[2025-08-02 04:34:18] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:34:19] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:34:19] INFO     : Running test command...
[2025-08-02 04:34:52] SUCCESS  : Test command executed
[2025-08-02 04:34:52] INFO     : Test evaluated as passed
[2025-08-02 04:34:52] WARNING  : Stopping and removing container...
[2025-08-02 04:35:03] SUCCESS  : Container stopped and removed
[2025-08-02 04:35:03] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:35:03] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:35:03] SUCCESS  : Attempt 2 with model llama-3.3-70b-versatile finished successfully
[2025-08-02 04:35:03] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:35:03] MARKER   : Attempt 3 with model llama-3.3-70b-versatile
[2025-08-02 04:35:03] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:35:03] INFO     : Querying LLM...
[2025-08-02 04:35:05] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:35:05] SUCCESS  : LLM response received
[2025-08-02 04:35:05] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:35:05] INFO     : Creating container...
[2025-08-02 04:35:06] SUCCESS  : Container 416a47228930 started
[2025-08-02 04:35:07] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:35:07] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:35:07] INFO     : Running test command...
[2025-08-02 04:35:41] SUCCESS  : Test command executed
[2025-08-02 04:35:41] FAIL     : Test evaluated as failed
[2025-08-02 04:35:41] WARNING  : Stopping and removing container...
[2025-08-02 04:35:52] SUCCESS  : Container stopped and removed
[2025-08-02 04:35:52] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:35:52] INFO     : Creating container...
[2025-08-02 04:35:53] SUCCESS  : Container bb43bb07f1cf started
[2025-08-02 04:35:53] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:35:54] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:35:54] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:35:54] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:35:54] INFO     : Running test command...
[2025-08-02 04:36:28] SUCCESS  : Test command executed
[2025-08-02 04:36:28] INFO     : Test evaluated as passed
[2025-08-02 04:36:28] WARNING  : Stopping and removing container...
[2025-08-02 04:36:39] SUCCESS  : Container stopped and removed
[2025-08-02 04:36:39] SUCCESS  : Fail-to-Pass test generated
[2025-08-02 04:36:39] SUCCESS  : Suggested test for PR:


Hi! ðŸ¤– The test below is automatically generated and serves as a regression test for this PR because it:
- passes in the new codebase after the PR, and
- fails in the old codebase before the PR.

```javascript
it("should not throw an error when navigatorplatform is undefined", async () => {
  const { FeatureTest } = await import("../../src/shared/util.js");
  const originalNavigator = globalThis.navigator;
  globalThis.navigator = { userAgent: "Mozilla/5.0" };
  delete globalThis.navigator.platform;
  const platform = FeatureTest.platform;
  expect(platform).toEqual({ isMac: false });
  globalThis.navigator = originalNavigator;
});
```

If you find this regression test useful, feel free to insert it to your test suite.
Our automated pipeline inserted the test in the `test/unit/util_spec.js` file before running it.

This is part of our research at the [ZEST](https://www.ifi.uzh.ch/en/zest.html) group of University of Zurich in collaboration with [Mozilla](https://www.mozilla.org).
If you have any suggestions, questions, or simply want to learn more, feel free to contact us at konstantinos.kitsios@uzh.ch and mcastelluccio@mozilla.com.

[2025-08-02 04:36:39] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:36:39] SUCCESS  : Attempt 3 with model llama-3.3-70b-versatile finished successfully
[2025-08-02 04:36:39] SUCCESS  : Test file copied to generated_tests/pdf_js_17153_i3_llama-3.3-70b-versatile.txt
[2025-08-02 04:36:39] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:36:39] MARKER   : Attempt 1 with model deepseek-r1-distill-llama-70b
[2025-08-02 04:36:39] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:36:39] INFO     : Querying LLM...
[2025-08-02 04:36:42] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:36:42] SUCCESS  : LLM response received
[2025-08-02 04:36:42] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:36:42] INFO     : Creating container...
[2025-08-02 04:36:44] SUCCESS  : Container 36bca2358cff started
[2025-08-02 04:36:44] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:36:44] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:36:44] INFO     : Running test command...
[2025-08-02 04:37:19] SUCCESS  : Test command executed
[2025-08-02 04:37:19] FAIL     : Test evaluated as failed
[2025-08-02 04:37:19] WARNING  : Stopping and removing container...
[2025-08-02 04:37:30] SUCCESS  : Container stopped and removed
[2025-08-02 04:37:30] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:37:30] INFO     : Creating container...
[2025-08-02 04:37:31] SUCCESS  : Container ac962df12132 started
[2025-08-02 04:37:31] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:37:31] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:37:31] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:37:32] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:37:32] INFO     : Running test command...
[2025-08-02 04:38:07] SUCCESS  : Test command executed
[2025-08-02 04:38:07] FAIL     : Test evaluated as failed
[2025-08-02 04:38:07] WARNING  : Stopping and removing container...
[2025-08-02 04:38:18] SUCCESS  : Container stopped and removed
[2025-08-02 04:38:18] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:38:18] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:38:18] SUCCESS  : Attempt 1 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-02 04:38:18] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:38:18] MARKER   : Attempt 2 with model deepseek-r1-distill-llama-70b
[2025-08-02 04:38:18] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:38:18] INFO     : Querying LLM...
[2025-08-02 04:38:21] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:38:21] SUCCESS  : LLM response received
[2025-08-02 04:38:21] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:38:21] INFO     : Creating container...
[2025-08-02 04:38:22] SUCCESS  : Container a04be8066c84 started
[2025-08-02 04:38:23] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:38:23] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:38:23] INFO     : Running test command...
[2025-08-02 04:38:57] SUCCESS  : Test command executed
[2025-08-02 04:38:57] FAIL     : Test evaluated as failed
[2025-08-02 04:38:57] WARNING  : Stopping and removing container...
[2025-08-02 04:39:08] SUCCESS  : Container stopped and removed
[2025-08-02 04:39:08] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:39:08] INFO     : Creating container...
[2025-08-02 04:39:10] SUCCESS  : Container fc81da8fba5a started
[2025-08-02 04:39:10] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:39:10] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:39:10] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:39:10] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:39:10] INFO     : Running test command...
[2025-08-02 04:39:45] SUCCESS  : Test command executed
[2025-08-02 04:39:45] FAIL     : Test evaluated as failed
[2025-08-02 04:39:45] WARNING  : Stopping and removing container...
[2025-08-02 04:39:56] SUCCESS  : Container stopped and removed
[2025-08-02 04:39:56] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:39:56] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:39:56] SUCCESS  : Attempt 2 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-02 04:39:56] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:39:56] MARKER   : Attempt 3 with model deepseek-r1-distill-llama-70b
[2025-08-02 04:39:56] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:39:56] INFO     : Querying LLM...
[2025-08-02 04:40:00] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:40:00] SUCCESS  : LLM response received
[2025-08-02 04:40:00] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:40:00] INFO     : Creating container...
[2025-08-02 04:40:01] SUCCESS  : Container 65e3143be8f4 started
[2025-08-02 04:40:01] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:40:02] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:40:02] INFO     : Running test command...
[2025-08-02 04:40:37] SUCCESS  : Test command executed
[2025-08-02 04:40:37] INFO     : Test evaluated as passed
[2025-08-02 04:40:37] WARNING  : Stopping and removing container...
[2025-08-02 04:40:48] SUCCESS  : Container stopped and removed
[2025-08-02 04:40:48] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:40:48] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:40:48] SUCCESS  : Attempt 3 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-02 04:40:48] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:40:48] MARKER   : Attempt 4 with model deepseek-r1-distill-llama-70b
[2025-08-02 04:40:48] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:40:48] INFO     : Querying LLM...
[2025-08-02 04:40:52] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:40:52] SUCCESS  : LLM response received
[2025-08-02 04:40:52] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:40:52] INFO     : Creating container...
[2025-08-02 04:40:54] SUCCESS  : Container 83734b3636dc started
[2025-08-02 04:40:54] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:40:54] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:40:54] INFO     : Running test command...
[2025-08-02 04:41:28] SUCCESS  : Test command executed
[2025-08-02 04:41:28] FAIL     : Test evaluated as failed
[2025-08-02 04:41:28] WARNING  : Stopping and removing container...
[2025-08-02 04:41:39] SUCCESS  : Container stopped and removed
[2025-08-02 04:41:39] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:41:39] INFO     : Creating container...
[2025-08-02 04:41:41] SUCCESS  : Container a6a5ea4c8587 started
[2025-08-02 04:41:41] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:41:41] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:41:41] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:41:41] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:41:41] INFO     : Running test command...
[2025-08-02 04:42:16] SUCCESS  : Test command executed
[2025-08-02 04:42:16] FAIL     : Test evaluated as failed
[2025-08-02 04:42:16] WARNING  : Stopping and removing container...
[2025-08-02 04:42:28] SUCCESS  : Container stopped and removed
[2025-08-02 04:42:28] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:42:28] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:42:28] SUCCESS  : Attempt 4 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-02 04:42:28] INFO     : Environment ready â€“ preparation skipped
[2025-08-02 04:42:28] MARKER   : Attempt 5 with model deepseek-r1-distill-llama-70b
[2025-08-02 04:42:28] MARKER   : =============== Test Generation Started ==============
[2025-08-02 04:42:28] INFO     : Querying LLM...
[2025-08-02 04:42:32] INFO     : HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
[2025-08-02 04:42:32] SUCCESS  : LLM response received
[2025-08-02 04:42:32] MARKER   : Running test in pre-PR codebase...
[2025-08-02 04:42:32] INFO     : Creating container...
[2025-08-02 04:42:33] SUCCESS  : Container 7a3d4bcc14ee started
[2025-08-02 04:42:34] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:42:34] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:42:34] INFO     : Running test command...
[2025-08-02 04:43:08] SUCCESS  : Test command executed
[2025-08-02 04:43:08] FAIL     : Test evaluated as failed
[2025-08-02 04:43:08] WARNING  : Stopping and removing container...
[2025-08-02 04:43:19] SUCCESS  : Container stopped and removed
[2025-08-02 04:43:19] MARKER   : Running test in post-PR codebase...
[2025-08-02 04:43:19] INFO     : Creating container...
[2025-08-02 04:43:21] SUCCESS  : Container 23c5c353c11e started
[2025-08-02 04:43:21] SUCCESS  : File test_patch.diff added to container successfully
[2025-08-02 04:43:21] SUCCESS  : Patch file test_patch.diff applied successfully
[2025-08-02 04:43:21] SUCCESS  : File golden_code_patch.diff added to container successfully
[2025-08-02 04:43:22] SUCCESS  : Patch file golden_code_patch.diff applied successfully
[2025-08-02 04:43:22] INFO     : Running test command...
[2025-08-02 04:43:56] SUCCESS  : Test command executed
[2025-08-02 04:43:56] FAIL     : Test evaluated as failed
[2025-08-02 04:43:56] WARNING  : Stopping and removing container...
[2025-08-02 04:44:08] SUCCESS  : Container stopped and removed
[2025-08-02 04:44:08] FAIL     : No Fail-to-Pass test generated
[2025-08-02 04:44:08] MARKER   : =============== Test Generation Finished =============
[2025-08-02 04:44:08] SUCCESS  : Attempt 5 with model deepseek-r1-distill-llama-70b finished successfully
[2025-08-02 04:44:08] MARKER   : =============== Finished Payload #17153 ==============
[2025-08-02 04:44:08] SUCCESS  : Directory tmp_repo_dir_mozilla__pdf.js-17153 removed successfully
[2025-08-02 04:44:11] SUCCESS  : Removed Docker image 'image_mozilla__pdf.js-17153'
