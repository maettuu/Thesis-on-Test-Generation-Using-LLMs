it("should correctly identify password fields and set input type to password", async () => {
  const { PDFDocument, PDFPageProxy } = await import("../../src/display/api.js");
  const pdfPath = require.toURL("password-field.pdf");
  const pdf = await PDFDocument.load(pdfPath);
  const page = await pdf.getPage(1);
  const annotations = await page.getAnnotations();

  let textWidgetAnnotation;
  for (const annotation of annotations) {
    if (annotation instanceof TextWidgetAnnotation) {
      textWidgetAnnotation = annotation;
      break;
    }
  }

  const expectedPasswordField = true;
  const actualPasswordField = textWidgetAnnotation.data.password;
  expect(actualPasswordField).toBe(expectedPasswordField);

  const fieldObject = textWidgetAnnotation.getFieldObject();
  const expectedType = "password";
  const actualType = fieldObject.type;
  expect(actualType).toBe(expectedType);
});