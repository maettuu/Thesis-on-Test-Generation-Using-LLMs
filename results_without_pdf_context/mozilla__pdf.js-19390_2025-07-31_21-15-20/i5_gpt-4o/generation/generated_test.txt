it("should render password fields with obscured characters", async () => {
  const { AnnotationFactory } = await import("../../src/core/annotation.js");
  const { AnnotationFieldFlag } = await import("../../src/shared/util.js");
  const { AnnotationLayer } = await import("../../src/display/annotation_layer.js");

  const passwordFieldDict = {
    get: (key) => {
      if (key === "FT") return { name: "Tx" };
      if (key === "Ff") return AnnotationFieldFlag.PASSWORD;
      return null;
    },
  };

  const passwordField = AnnotationFactory.create(passwordFieldDict);
  const annotationStorage = new Map();
  const element = AnnotationLayer.render({
    annotation: passwordField,
    page: { view: [0, 0, 100, 100] },
    viewport: { transform: [1, 0, 0, 1, 0, 0] },
    annotationStorage,
  });

  const inputElement = element.querySelector("input");
  const actualType = inputElement.type;
  const expectedType = "password";

  expect(actualType).toBe(expectedType);
});