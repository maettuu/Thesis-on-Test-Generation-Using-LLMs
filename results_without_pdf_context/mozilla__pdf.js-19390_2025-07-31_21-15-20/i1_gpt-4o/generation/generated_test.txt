it("should render password fields with obscured characters", async () => {
  const { WidgetAnnotation } = await import("../../src/core/annotation.js");
  const { AnnotationFieldFlag } = await import("../../src/shared/util.js");
  const dict = new Dict();
  dict.set("Ff", AnnotationFieldFlag.PASSWORD);
  dict.set("V", "secret");
  const widgetAnnotation = new WidgetAnnotation({
    dict,
    xref: new XRefMock(),
    annotationGlobals: { acroForm: new Dict() },
  });

  const { TextWidgetAnnotationElement } = await import("../../src/display/annotation_layer.js");
  const element = new TextWidgetAnnotationElement({
    data: widgetAnnotation.data,
    renderForms: true,
    annotationStorage: new Map(),
  });

  const renderedElement = element.render();
  const inputElement = renderedElement.querySelector("input");
  expect(inputElement.type).toEqual("password");
});