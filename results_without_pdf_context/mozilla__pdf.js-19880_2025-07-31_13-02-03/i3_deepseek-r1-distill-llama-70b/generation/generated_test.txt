it("should handle null values in numberToString", async () => {
  const { numberToString } = await import("../../src/core/core_utils.js");
  const { assert } = await import("../../src/shared/util.js");

  // Test without PDFJSDev (production behavior)
  {
    const originalPDFJSDev = global.PDFJSDev;
    delete global.PDFJSDev;
    const result = numberToString(null);
    expect(result).toBe("0");
    global.PDFJSDev = originalPDFJSDev;
  }

  // Test with PDFJSDev (testing behavior)
  {
    global.PDFJSDev = { test: () => true };
    expect(() => numberToString(null)).toThrow(
      "numberToString - the value (null) should be a number."
    );
    delete global.PDFJSDev;
  }
});