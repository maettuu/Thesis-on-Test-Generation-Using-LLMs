it("should correctly render PDF with noninteger DW", async () => {
  const { PartialEvaluator } = await import("../../src/core/evaluator.js");
  const { Dict } = await import("../../src/core/primitives.js");
  const { createIdFactory, XRefMock } = await import("./test_utils.js");

  const xref = new XRefMock();
  const dict = Dict.empty;
  dict.set("DW", 500.5);
  const properties = { composite: true };

  const evaluator = new PartialEvaluator({
    xref,
    handler: null,
    pageIndex: 0,
    idFactory: createIdFactory(0),
    fontCache: new Map(),
    builtInCMapCache: new Map(),
    standardFontDataCache: new Map(),
    globalImageCache: new Map(),
    systemFontCache: new Map(),
  });

  evaluator.extractWidths(dict, null, properties);

  const expectedDefaultWidth = 501;
  const actualDefaultWidth = properties.defaultWidth;

  expect(actualDefaultWidth).toBe(expectedDefaultWidth);
});