it("should throw specific JpxError with OpenJPEG error message", async () => {
  const { JpxImage } = await import("../../src/core/jpx.js");
  const data = new Uint8Array(5); // Small buffer to trigger OpenJPEG error

  let error;
  try {
    JpxImage.decode(data, false);
  } catch (e) {
    error = e;
  }

  expect(error).toBeInstanceOf(JpxError);
  expect(error.message).toContain("Unknown format");
});