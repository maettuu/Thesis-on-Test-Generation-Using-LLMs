it("should adjust font family for Windows Firefox", async () => {
  const { TextLayer } = await import("../../src/display/text_layer.js");
  const { FeatureTest } = await import("../../shared/util.js");

  // Mock platform as Windows + Firefox
  const originalPlatform = FeatureTest.platform;
  FeatureTest.platform = () => ({
    isWindows: true,
    isFirefox: true,
  });

  const fontFamilyMap = TextLayer.fontFamilyMap;

  // Expected font family strings
  const expectedSansSerif = "Calibri, sans-serif";
  const expectedMonospace = "Lucida Console, monospace";

  // Actual font family strings
  const actualSansSerif = fontFamilyMap.get("sans-serif");
  const actualMonospace = fontFamilyMap.get("monospace");

  // Cleanup
  FeatureTest.platform = originalPlatform;

  // Assertions
  expect(actualSansSerif).toBe(expectedSansSerif);
  expect(actualMonospace).toBe(expectedMonospace);
});