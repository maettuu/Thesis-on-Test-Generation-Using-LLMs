```javascript
it("should render text layer with correct font family on Windows and Firefox", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { TextLayer } = await import("../../src/display/text_layer.js");
  const { FeatureTest } = await import("../../src/shared/util.js");

  const originalIsWindows = FeatureTest.platform.isWindows;
  const originalIsFirefox = FeatureTest.platform.isFirefox;
  FeatureTest.platform.isWindows = true;
  FeatureTest.platform.isFirefox = true;

  const doc = await getDocument({ url: "./test.pdf" });
  const page = await doc.getPage(1);
  const textContent = await page.getTextContent();
  const textLayer = new TextLayer({
    textContentSource: textContent,
    container: document.createElement("div"),
    viewport: page.getViewport({ scale: 1 }),
  });

  await textLayer.render();

  const textDivs = textLayer.textDivs;
  const fontFamily = textDivs[0].style.fontFamily;
  const expectedFontFamily = "Calibri, sans-serif";

  expect(fontFamily).toBe(expectedFontFamily);

  FeatureTest.platform.isWindows = originalIsWindows;
  FeatureTest.platform.isFirefox = originalIsFirefox;
});
```