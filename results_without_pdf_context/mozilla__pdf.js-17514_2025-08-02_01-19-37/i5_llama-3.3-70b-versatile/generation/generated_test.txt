it("should generate a correct appearance stream for a single point ink annotation", async () => {
  const { InkAnnotation, numberToString } = await import("../../src/core/annotation.js");
  const { XRefMock } = await import("./test_utils.js");
  const xref = new XRefMock();
  const annotation = {
    color: [0, 0, 0],
    rect: [0, 0, 100, 100],
    paths: [{ bezier: [50, 50] }],
    thickness: 1,
    opacity: 1,
  };
  const stream = await InkAnnotation.createNewAppearanceStream(annotation, xref, {});
  const appearance = stream.getString();
  if (!appearance.includes(`${numberToString(50)} ${numberToString(50)} l S`)) {
    throw new Error("Expected appearance stream to include a line command for a single point ink annotation.");
  }
});