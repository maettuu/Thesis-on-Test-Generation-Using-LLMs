it("should properly resize SVG images", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const svg = `<svg viewBox="0 0 100 100" width="100" height="100">
    <rect width="100" height="100" style="fill:red;"/>
  </svg>`;

  const imageManager = new ImageManager();
  const image = await imageManager.getFromUrl(`data:image/svg+xml,${encodeURIComponent(svg)}`);

  const canvas = new OffscreenCanvas(50, 50);
  const ctx = canvas.getContext("2d");
  ctx.drawImage(image.bitmap, 0, 0, 50, 50);

  const pixel = ctx.getImageData(0, 0, 1, 1).data;
  const isRed = pixel[0] === 255 && pixel[1] === 0 && pixel[2] === 0;

  expect(isRed).toBe(true);
});