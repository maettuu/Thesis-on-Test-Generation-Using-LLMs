it("should resize SVG images without preserving aspect ratio", async () => {
  const { ImageManager } = await import("../../src/display/editor/tools.js");
  const { DOMCanvasFactory } = await import("../display_utils.js");

  const canvas = DOMCanvasFactory.createCanvas(100, 100);
  const ctx = canvas.getContext("2d");

  const imageManager = new ImageManager();
  const svgData = `<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg">
    <rect width="1" height="1" style="fill:red;"/>
  </svg>`;

  const image = await imageManager.get("test-svg", svgData);
  if (!image) {
    throw new Error("Failed to load SVG image");
  }

  ctx.drawImage(image.bitmap, 0, 0, 100, 100);

  const pixel = ctx.getImageData(0, 0, 1, 1).data;
  // Red color in RGB
  const isRed = pixel[0] === 255 && pixel[1] === 0 && pixel[2] === 0;
  expect(isRed).toBe(true);
});