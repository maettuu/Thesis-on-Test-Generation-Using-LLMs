it("should render poster PDFs quickly", async () => {
  const { PDFDocumentProxy } = await import("../../src/display/api.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");
  const { PageViewport } = await import("../../src/display/display_utils.js");
  const { CMAP_URL } = await import("./test_utils.js");

  // Use a sample PDF with a poster image
  const pdfPath = `${TEST_PDFS_PATH}/poster.pdf`;
  const params = buildGetDocumentParams(pdfPath, CMAP_URL);
  const pdfDocument = await PDFDocumentProxy.create(params);

  // Get the first page
  const page = await pdfDocument.getPage(1);
  const viewport = new PageViewport(page, PageViewport.SCALE_100);

  // Create a canvas to render to
  const canvas = document.createElement("canvas");
  canvas.width = viewport.width;
  canvas.height = viewport.height;
  const ctx = canvas.getContext("2d");

  // Measure the rendering time
  const startTime = Date.now();
  await page.render({
    canvasContext: ctx,
    viewport,
    renderInteractive: false,
  });
  const endTime = Date.now();
  const renderTime = endTime - startTime;

  // Verify that rendering is fast enough
  expect(renderTime).toBeLessThan(500);
});