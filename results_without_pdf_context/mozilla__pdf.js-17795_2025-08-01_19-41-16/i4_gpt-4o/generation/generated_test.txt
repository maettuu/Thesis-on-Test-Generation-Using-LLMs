it("should render all inlined images correctly", async () => {
  const { getDocument } = await import("../../src/display/api.js");
  const { PDFNodeStream } = await import("../../src/display/node_stream.js");
  const { buildGetDocumentParams } = await import("./test_utils.js");

  const pdfUrl = "https://github.com/mozilla/pdf.js/files/14607428/image1.pdf";
  const loadingTask = getDocument(buildGetDocumentParams(pdfUrl, { stream: new PDFNodeStream() }));
  const pdfDocument = await loadingTask.promise;
  const pdfPage = await pdfDocument.getPage(1);

  const operatorList = await pdfPage.getOperatorList();
  const imageOps = operatorList.fnArray.filter(op => op === OPS.paintInlineImageXObject);

  const expectedImageOpsCount = 2;
  const actualImageOpsCount = imageOps.length;

  expect(actualImageOpsCount).toBe(expectedImageOpsCount);
});