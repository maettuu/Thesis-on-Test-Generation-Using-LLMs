it("should correctly reflect radio button state in print view", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const { Annotation } = await import("../../src/core/annotation.js");
  const { Name } = await import("../../src/core/primitives.js");

  // Create a sample PDF with radio buttons
  const pdf = new PDFDocument();
  const page = pdf.addPage();
  const annotation = new ButtonWidgetAnnotation({
    dict: {
      get: (key) => {
        if (key === "Parent") {
          const parentDict = new Dict();
          parentDict.set("V", new Name("Radio1"));
          return parentDict;
        }
        return null;
      }
    },
    page,
    x: 0,
    y: 0,
    width: 10,
    height: 10,
  });

  // Process the radio button annotation
  await annotation._processRadioButton({
    dict: annotation.dict,
    page,
  });

  // Verify the button value is correctly set from the parent field's V entry
  expect(annotation.data.buttonValue).toBe("Radio1");

  await pdf.close();
});