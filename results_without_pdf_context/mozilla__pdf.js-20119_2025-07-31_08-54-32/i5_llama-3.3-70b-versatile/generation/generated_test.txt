it("should add an entry in the context menu to highlight and comment the text selection in a pdf", async () => {
  const { PDFPageProxy, PDFDocumentProxy } = await import("../../src/display/api.js");
  const { AnnotationEditorUIManager } = await import("../../src/display/editor/tools.js");
  const { PDFViewer } = await import("../../web/pdf_viewer.js");

  const pdfViewer = new PDFViewer();
  const pdfDocument = await PDFDocumentProxy.load("path/to/example.pdf");
  const pdfPage = await pdfDocument.getPage(1);
  const annotationEditorUIManager = new AnnotationEditorUIManager({
    page: pdfPage,
    pdfViewer,
  });

  const contextMenuEntriesBefore = annotationEditorUIManager.getContextMenuEntries();
  expect(contextMenuEntriesBefore).not.toContain("Comment Selection");

  const patch = await import("./patch.js");
  annotationEditorUIManager = new AnnotationEditorUIManager({
    page: pdfPage,
    pdfViewer,
  });

  const contextMenuEntriesAfter = annotationEditorUIManager.getContextMenuEntries();
  expect(contextMenuEntriesAfter).toContain("Comment Selection");
});