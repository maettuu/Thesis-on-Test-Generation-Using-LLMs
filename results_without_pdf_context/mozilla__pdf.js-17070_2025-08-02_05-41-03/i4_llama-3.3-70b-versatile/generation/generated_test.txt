it("should render comment and sticky note annotations in the viewer", async () => {
  const { PDFDocument } = await import("../../src/display/api.js");
  const { AnnotationFactory } = await import("../../src/core/annotation.js");
  const pdfBytes = await (await import("./test_utils.js")).buildGetDocumentParams("Testdoc.pdf");
  const pdfDocument = await PDFDocument.load({ data: pdfBytes });
  const annotations = await AnnotationFactory.create(pdfDocument.xref, pdfDocument.xref.getRawPdf(), await AnnotationFactory.createGlobals(pdfDocument.pdfManager), pdfDocument.pdfManager.idFactory, true);
  const annotationLayer = await import("../../src/display/annotation_layer.js");
  const annotationLayerBuilder = new annotationLayer.AnnotationLayerBuilder();
  const page = await pdfDocument.getPage(1);
  const annotationStorage = new (await import("../../src/display/annotation_storage.js")).AnnotationStorage();
  const renderAnnotations = await annotationLayerBuilder.renderAnnotations({
    page,
    viewport: page.getViewport({ scale: 1 }),
    annotationStorage,
    renderForms: true,
    enableScripting: false,
  });
  const annotationsRendered = renderAnnotations.annotations;
  expect(annotationsRendered.length).toBeGreaterThan(0);
});