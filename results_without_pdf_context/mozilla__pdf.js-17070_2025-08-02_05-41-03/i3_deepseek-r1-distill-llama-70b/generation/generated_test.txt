it("should correctly set noHTML to false for text annotations", async () => {
  const xref = new XRefMock();
  const parser = new Parser(
    new Lexer(new StringStream(CMAP_URL), { xref })
  );
  const evaluator = new PartialEvaluator({
    xref,
    parser,
    onUnexpectedEnd: () => {},
  });
  const idFactory = createIdFactory();

  const annotationFactory = new AnnotationFactory();
  const dict = new Dict(xref);
  dict.set("Subtype", Name.get("Text"));
  dict.set("Contents", "comment1");
  dict.set("Rect", [0, 0, 100, 100]);

  const annotation = await AnnotationFactory.create(
    xref,
    new Ref(1),
    {
      pdfManager: {
        ensureCatalog: async () => ({ acroForm: new Dict(xref) }),
        ensureDoc: async () => ({}),
      },
      annotationGlobals: {},
      idFactory,
      collectFields: false,
    },
    false
  );

  expect(annotation.data.noHTML).toBe(false);
});