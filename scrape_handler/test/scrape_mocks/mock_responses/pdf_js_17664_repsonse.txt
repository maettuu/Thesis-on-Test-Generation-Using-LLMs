it("should update free highlight control points to follow the mouse cursor", async () => {
  const { FreeOutliner } = await import("../../src/display/editor/outliner.js");
  const box = [0, 0, 200, 200];
  // Create instance and simulate free highlighting with final pointer at (150,150)
  const outliner1 = new FreeOutliner({ x: 50, y: 50 }, box, 1, 10, true);
  outliner1.add({ x: 150, y: 50 });
  outliner1.add({ x: 150, y: 150 });
  const outlineObj1 = outliner1.getOutlines();
  // The control points for the top curve are stored in the outline slice indexes 16-17.
  const control1 = outlineObj1.outline.slice(16, 18);

  // Now simulate a slightly different pointer position (e.g. (160,160))
  const outliner2 = new FreeOutliner({ x: 50, y: 50 }, box, 1, 10, true);
  outliner2.add({ x: 150, y: 50 });
  outliner2.add({ x: 160, y: 160 });
  const outlineObj2 = outliner2.getOutlines();
  const control2 = outlineObj2.outline.slice(16, 18);

  // Verify that the computed control point from the new pointer position has moved
  if (!(control2[0] > control1[0] && control2[1] > control1[1])) {
    throw new Error("Free highlight control points do not properly update with the mouse position");
  }
});